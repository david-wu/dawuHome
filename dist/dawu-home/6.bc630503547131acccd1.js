(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{ACWU:function(n,e,l){"use strict";l.d(e,"a",(function(){return o}));var t=l("CcnG"),o=function(){function n(){this.acceptStr="image/*",this.showUploadButton=!1,this.fileChange=new t.n,this.fileUpload=new t.n}return n.prototype.onFileChange=function(n){n.target.files&&(this.file=n.target.files[0],this.fileChange.emit(this.file))},n.prototype.upload=function(){this.fileUpload.emit(this.file)},n}()},ah9N:function(n,e,l){"use strict";l.d(e,"a",(function(){return t}));var t=function(){return function(){}}()},h0Hf:function(n,e,l){"use strict";var t=l("CcnG"),o=l("Ip0R");l("ACWU"),l.d(e,"a",(function(){return i})),l.d(e,"b",(function(){return c}));var i=t.qb({encapsulation:0,styles:[[".upload-container[_ngcontent-%COMP%]{display:flex;align-items:center;width:25rem;border-radius:.25rem;padding:.25rem;background-color:#f2eee1}.upload-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 .125rem;flex:0 0 auto;display:inline-block}.upload-container[_ngcontent-%COMP%]   .file-label[_ngcontent-%COMP%]{flex:1 1 0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}label[_ngcontent-%COMP%]{display:inline-block}.upload-button[_ngcontent-%COMP%]{background-color:#3f4038;color:#fcfcf9;width:8rem;padding:.5rem;cursor:pointer;text-align:center;outline:0;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.upload-button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#4b5320;color:#fcfcf9}.upload-button.active[_ngcontent-%COMP%]:not([disabled]){background-color:#708238;color:#fcfcf9}.upload-button[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.3}.upload-input[_ngcontent-%COMP%]{position:absolute;visibility:hidden;width:0;height:0}"]],data:{}});function u(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,7,"div",[["class","upload-container"]],null,null,null,null,null)),(n()(),t.sb(1,0,null,null,1,"div",[["class","file-label"]],null,null,null,null,null)),(n()(),t.Lb(2,null,[" "," "])),(n()(),t.sb(3,0,null,null,2,"label",[["for","select-file-button"]],null,null,null,null,null)),(n()(),t.sb(4,0,null,null,1,"div",[["class","upload-button"]],null,null,null,null,null)),(n()(),t.Lb(-1,null,[" Select File "])),(n()(),t.sb(6,0,null,null,1,"div",[["class","upload-button"]],[[1,"disabled",0]],[[null,"click"]],(function(n,e,l){var t=!0;return"click"===e&&(t=!1!==n.component.upload()&&t),t}),null,null)),(n()(),t.Lb(-1,null,[" Upload "]))],null,(function(n,e){var l=e.component;n(e,2,0,l.file?l.file.name:"no file selected"),n(e,6,0,!l.file||null)}))}function r(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,2,"label",[["for","select-file-button"]],null,null,null,null,null)),(n()(),t.sb(1,0,null,null,1,"div",[["class","upload-button"]],null,null,null,null,null)),(n()(),t.Lb(-1,null,[" Upload File "]))],null,null)}function c(n){return t.Nb(0,[(n()(),t.hb(16777216,null,null,1,null,u)),t.rb(1,16384,null,0,o.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.hb(16777216,null,null,1,null,r)),t.rb(3,16384,null,0,o.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(n()(),t.sb(4,0,null,null,0,"input",[["class","upload-input"],["id","select-file-button"],["type","file"]],[[8,"accept",0]],[[null,"change"]],(function(n,e,l){var t=!0;return"change"===e&&(t=!1!==n.component.onFileChange(l)&&t),t}),null,null))],(function(n,e){var l=e.component;n(e,1,0,l.showUploadButton),n(e,3,0,!l.showUploadButton)}),(function(n,e){n(e,4,0,e.component.acceptStr)}))}},ynwI:function(n,e,l){"use strict";l.r(e);var t=l("CcnG"),o=l("LvDl"),i=l("yGQT"),u=function(){function n(){}return n.CATEGORY="[ML_FILES]",n.getUserFiles=Object(i.u)(n.CATEGORY+" GET_USER_FILES"),n.getUserFilesSuccess=Object(i.u)(n.CATEGORY+" GET_USER_FILES_SUCCESS",Object(i.A)()),n.getUserFilesFailure=Object(i.u)(n.CATEGORY+" GET_USER_FILES_FAILURE"),n.createUserFiles=Object(i.u)(n.CATEGORY+" CREATE_USER_FILES"),n.createUserFilesSuccess=Object(i.u)(n.CATEGORY+" CREATE_USER_FILES_SUCCESS"),n.createUserFilesFailure=Object(i.u)(n.CATEGORY+" CREATE_USER_FILES_FAILURE"),n.editUserFiles=Object(i.u)(n.CATEGORY+" EDIT_USER_FILES"),n.editUserFilesSuccess=Object(i.u)(n.CATEGORY+" EDIT_USER_FILES_SUCCESS"),n.editUserFilesFailure=Object(i.u)(n.CATEGORY+" EDIT_USER_FILES_FAILURE"),n.deleteUserFiles=Object(i.u)(n.CATEGORY+" DELETE_USER_FILES"),n.deleteUserFilesSuccess=Object(i.u)(n.CATEGORY+" DELETE_USER_FILES_SUCCESS"),n.deleteUserFilesFailure=Object(i.u)(n.CATEGORY+" DELETE_USER_FILES_FAILURE"),n}(),r=l("mrSG"),c=l("7bNT"),s=l("0/uQ"),a=l("15JJ"),d=l("VnD/"),f=l("67Y/"),b=l("YZbJ"),p=l("ihif"),g=function(n,e,l,t,o){var g=this;this.store$=n,this.actions$=e,this.firestoreService=l,this.auth=t,this.storage=o,this.getUserFiles$=Object(c.h)((function(){return g.actions$.pipe(Object(c.j)(u.getUserFiles),Object(a.a)((function(){return g.store$.pipe(Object(i.B)(b.d),Object(d.a)(Boolean),Object(a.a)((function(n){var e=g.firestoreService.firestore.collection("users/"+n.uid+"/files");return Object(s.a)(e.get()).pipe(Object(f.a)((function(n){var e=n.docs.map((function(n){return Object.assign(new p.a,r.__assign({},n.data(),{id:n.id}))}));return u.getUserFilesSuccess({files:e})})))})))})))}))},h=Object(i.w)({filesById:{},userLocation:void 0,locationPermission:void 0},Object(i.z)(u.getUserFilesSuccess,(function(n,e){var l=Object(o.keyBy)(e.files,"id");return console.log("incomingFilesById",l),r.__assign({},n,{filesById:r.__assign({},n.filesById,l)})})));function C(n,e){return h(n,e)}var O=Object(i.v)("mlFiles"),_=(Object(i.y)(O,(function(n){return n.locationPermission})),Object(i.y)(O,(function(n){return n.filesById}))),I=l("5tJd"),F=function(){function n(n,e,l,t){var o=this;this.store=n,this.firebaseAuthService=e,this.router=l,this.route=t,this.filesById={},this.fileGroup=new I.a,this.filterStr="",this.store.dispatch(u.getUserFiles()),this.populateFileGroup(),this.route.queryParams.subscribe((function(n){n.selectedFileId&&(o.fileGroup.setSelectedFileIds(new Set([n.selectedFileId])),o.selectedFileId=o.fileGroup.getSelectedFileId())}))}return n.prototype.populateFileGroup=function(){var n=this.fileGroup.filesByIdFromJson({id:"ROOT",childrenById:{PROJECT_1:{label:"Apparel",childrenById:{UPLOAD_IMAGES:{label:"Staging Area"},CLASSIFICATIONS:{label:"Classifications",childrenById:{T_SHIRTS:{label:"t shirts"},SHORTS:{label:"shorts"},SOCKS:{label:"socks"}}}}}}});this.filesById=Object(o.keyBy)(n,"id"),this.fileGroup.setRootFile(this.filesById.ROOT)},n.prototype.getSelectedFileId=function(){var n=Array.from(this.fileGroup.selectedFileIds||[]);return 1===n.length&&n[0]},n.prototype.onSelectedFileIdsChange=function(n){var e=Array.from(n)[0];e&&this.router.navigate([],{relativeTo:this.route,queryParams:{selectedFileId:e}})},n}(),S=function(){function n(n,e){this.router=n,this.route=e,this.filesById={},this.filesByLabel={},this.fileGroup=new I.a,this.filterStr="",this.zipAcceptStr="zip,application/octet-stream,application/zip,application/x-zip,application/x-zip-compressed"}return n.prototype.onFileChange=function(n){},n}(),M=function(){function n(n,e,l){this.store=n,this.router=e,this.route=l,this.filesById={},this.filesByLabel={},this.fileGroup=new I.a,this.filterStr="",this.rootId=void 0,this.filesById$=this.store.pipe(Object(i.B)(_)),this.filesById$.subscribe(console.log)}return n.prototype.onSelectedFileIdsChange=function(n){Array.from(n)},n}(),P=function(){return function(){}}(),m=l("pMnS"),v=l("h0Hf"),B=l("ACWU"),E=l("ZYCi"),y=t.qb({encapsulation:0,styles:[[".top-bar[_ngcontent-%COMP%]{display:flex;align-items:center}.top-bar[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-right:.25rem}.top-bar[_ngcontent-%COMP%]   .run-button[_ngcontent-%COMP%]{background-color:#3f4038;color:#fcfcf9;width:8rem;padding:.5rem;cursor:pointer;text-align:center;outline:0;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.top-bar[_ngcontent-%COMP%]   .run-button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#4b5320;color:#fcfcf9}.top-bar[_ngcontent-%COMP%]   .run-button.active[_ngcontent-%COMP%]:not([disabled]){background-color:#708238;color:#fcfcf9}.top-bar[_ngcontent-%COMP%]   .run-button[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.3}"]],data:{}});function w(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,6,"div",[["class","top-bar"]],null,null,null,null,null)),(n()(),t.sb(1,0,null,null,1,"div",[["class","run-button"]],null,null,null,null,null)),(n()(),t.Lb(-1,null,["Run Classifier"])),(n()(),t.sb(3,0,null,null,1,"div",[["class","run-button"]],null,null,null,null,null)),(n()(),t.Lb(-1,null,["Finalize"])),(n()(),t.sb(5,0,null,null,1,"dwu-file-uploader",[],null,[[null,"fileChange"]],(function(n,e,l){var t=!0;return"fileChange"===e&&(t=!1!==n.component.onFileChange(l)&&t),t}),v.b,v.a)),t.rb(6,49152,null,0,B.a,[],{acceptStr:[0,"acceptStr"],showUploadButton:[1,"showUploadButton"]},{fileChange:"fileChange"})],(function(n,e){n(e,6,0,e.component.zipAcceptStr,!0)}),null)}var U=l("PTyj"),x=l("W61y"),R=l("6+7j"),A=l("sjqh"),T=l("nPNc"),j=l("s/lM"),G=l("+J3Q"),L=l("Ip0R"),k=t.qb({encapsulation:0,styles:[[""]],data:{}});function N(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,3,"dwu-file-explorer",[],null,[[null,"filesByIdChange"],[null,"closedFileIdsChange"],[null,"selectedFileIdsChange"]],(function(n,e,l){var t=!0,o=n.component;return"filesByIdChange"===e&&(t=!1!==(o.fileGroup.filesById=l)&&t),"closedFileIdsChange"===e&&(t=!1!==o.fileGroup.setClosedFileIds(l)&&t),"selectedFileIdsChange"===e&&(t=!1!==o.onSelectedFileIdsChange(l)&&t),t}),T.b,T.a)),t.Ib(512,null,j.c,j.c,[[2,j.d]]),t.rb(2,4898816,null,0,G.a,[j.c,t.k],{rootFileId:[0,"rootFileId"],fuzzFilterString:[1,"fuzzFilterString"],filesById:[2,"filesById"],closedFileIds:[3,"closedFileIds"],selectedFileIds:[4,"selectedFileIds"],perfMode:[5,"perfMode"]},{filesByIdChange:"filesByIdChange",closedFileIdsChange:"closedFileIdsChange",selectedFileIdsChange:"selectedFileIdsChange"}),t.Fb(131072,L.b,[t.h])],(function(n,e){var l=e.component;n(e,2,0,l.rootId,l.filterStr,t.Mb(e,2,2,t.Db(e,3).transform(l.filesById$)),l.fileGroup.closedFileIds,l.fileGroup.selectedFileIds,!0)}),null)}var q=l("trGy"),z=t.qb({encapsulation:0,styles:[["@media screen and (max-width:750px){[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]{flex-direction:column}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{flex:0 0 auto;height:13.25rem;width:100%;max-width:none;transition:height 50ms}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side.expanded[_ngcontent-%COMP%]{height:85%}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]{background-color:#3f4038;color:#fcfcf9;position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:3.5rem;height:1rem;border:1px solid #8a9a5b;border-radius:5px 5px 0 0;text-align:center;display:flex;justify-content:center;cursor:pointer}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#4b5320;color:#fcfcf9}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander.active[_ngcontent-%COMP%]:not([disabled]){background-color:#708238;color:#fcfcf9}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.3}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]   .expander-icon[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]   .expander-icon.flipped[_ngcontent-%COMP%]{transform:rotate(180deg)}}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{position:relative;flex:1 1 0;overflow:hidden;max-width:27.5%;min-width:20rem}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;position:relative;padding:1rem 1.5rem}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{background-color:#ddd9cf;display:flex;flex-direction:column}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   dwu-file-explorer[_ngcontent-%COMP%]{flex:1 1 0}"]],data:{}});function Y(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,1,"ml-upload-images",[],null,null,null,w,y)),t.rb(1,49152,null,0,S,[E.l,E.a],null,null)],null,null)}function D(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,13,"div",[["class","page-container"]],null,null,null,null,null)),(n()(),t.sb(1,0,null,null,6,"div",[["class","left-side"]],null,null,null,null,null)),(n()(),t.sb(2,0,null,null,1,"dwu-user-login",[],null,null,null,U.c,U.a)),t.rb(3,114688,null,0,x.a,[i.n,t.k],null,null),(n()(),t.sb(4,0,null,null,1,"dwu-search-input",[],null,[[null,"searchTextChange"]],(function(n,e,l){var t=!0;return"searchTextChange"===e&&(t=!1!==(n.component.filterStr=l)&&t),t}),R.b,R.a)),t.rb(5,49152,null,0,A.a,[],{searchText:[0,"searchText"],placeholder:[1,"placeholder"]},{searchTextChange:"searchTextChange"}),(n()(),t.sb(6,0,null,null,1,"ml-file-explorer",[],null,null,null,N,k)),t.rb(7,49152,null,0,M,[i.n,E.l,E.a],null,null),(n()(),t.sb(8,0,null,null,5,"div",[["class","right-side"]],null,null,null,null,null)),(n()(),t.Lb(9,null,[" "," "])),(n()(),t.sb(10,0,null,null,3,"div",[],null,null,null,null,null)),t.rb(11,16384,null,0,L.p,[],{ngSwitch:[0,"ngSwitch"]},null),(n()(),t.hb(16777216,null,null,1,null,Y)),t.rb(13,278528,null,0,L.q,[t.O,t.L,L.p],{ngSwitchCase:[0,"ngSwitchCase"]},null)],(function(n,e){var l=e.component;n(e,3,0),n(e,5,0,l.filterStr,"search.."),n(e,11,0,l.selectedFileId),n(e,13,0,"UPLOAD_IMAGES")}),(function(n,e){n(e,9,0,e.component.selectedFileId)}))}function J(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,1,"dwu-user-login",[],null,null,null,U.c,U.a)),t.rb(1,114688,null,0,x.a,[i.n,t.k],null,null)],(function(n,e){n(e,1,0)}),null)}function $(n){return t.Nb(0,[(n()(),t.hb(16777216,null,null,2,null,D)),t.rb(1,16384,null,0,L.m,[t.O,t.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),t.Fb(131072,L.b,[t.h]),(n()(),t.hb(0,[["userLogin",2]],null,0,null,J))],(function(n,e){var l=e.component;n(e,1,0,t.Mb(e,1,0,t.Db(e,2).transform(l.firebaseAuthService.user$)),t.Db(e,3))}),null)}function W(n){return t.Nb(0,[(n()(),t.sb(0,0,null,null,1,"ml-app",[],null,null,null,$,z)),t.rb(1,49152,null,0,F,[i.n,q.a,E.l,E.a],null,null)],null,null)}var H=t.ob("ml-app",F,W,{},{},[]),Q=l("Vxrp"),V=l("GrFz"),X=l("xpxz"),Z=l("gIcY"),K=l("0gVX"),nn=l("ah9N"),en=function(){return function(){}}(),ln=l("3A+F"),tn=l("jG/M"),on=l("O0RR"),un=l("FE7n"),rn=l("Rkte"),cn=l("mRcA"),sn=l("a6Df"),an=l("Fzqc"),dn=l("dWZg"),fn=l("qAlS"),bn=l("FdjG");l.d(e,"MlAppModuleNgFactory",(function(){return pn}));var pn=t.pb(P,[],(function(n){return t.Ab([t.Bb(512,t.j,t.ab,[[8,[m.a,H,U.b,Q.a]],[3,t.j],t.w]),t.Bb(4608,L.o,L.n,[t.t,[2,L.A]]),t.Bb(4608,V.a,V.a,[]),t.Bb(4608,q.a,q.a,[]),t.Bb(4608,X.a,X.a,[]),t.Bb(4608,Z.r,Z.r,[]),t.Bb(135680,K.a,K.a,[t.j,t.g,t.q]),t.Bb(4608,g,g,[i.n,c.a,X.a,q.a,V.a]),t.Bb(1073742336,L.c,L.c,[]),t.Bb(1073742336,nn.a,nn.a,[]),t.Bb(1073742336,E.p,E.p,[[2,E.u],[2,E.l]]),t.Bb(1073742336,en,en,[]),t.Bb(1073742336,ln.a,ln.a,[]),t.Bb(1073742336,tn.a,tn.a,[]),t.Bb(1073742336,Z.q,Z.q,[]),t.Bb(1073742336,Z.h,Z.h,[]),t.Bb(1073742336,on.a,on.a,[]),t.Bb(1073742336,un.a,un.a,[]),t.Bb(1073742336,rn.a,rn.a,[]),t.Bb(1073742336,cn.a,cn.a,[]),t.Bb(1073742336,sn.a,sn.a,[]),t.Bb(1073742336,j.b,j.b,[]),t.Bb(1073742336,an.a,an.a,[]),t.Bb(1073742336,dn.b,dn.b,[]),t.Bb(1073742336,fn.h,fn.h,[]),t.Bb(1073742336,bn.a,bn.a,[]),t.Bb(1024,i.O,(function(){return[{}]}),[]),t.Bb(1024,i.j,(function(){return[{key:"mlFiles",reducerFactory:i.s,metaReducers:[],initialState:void 0}]}),[]),t.Bb(1024,i.P,i.W,[t.q,i.O,i.j]),t.Bb(1024,i.N,(function(){return[C]}),[]),t.Bb(1024,i.Q,(function(n){return[n]}),[i.N]),t.Bb(1024,i.b,(function(n,e,l){return[i.X(n,e,l)]}),[t.q,i.N,i.Q]),t.Bb(1024,i.U,(function(n){return[i.H(n)]}),[i.T]),t.Bb(1073873408,i.o,i.o,[i.P,i.b,i.g,i.p,[2,i.U]]),t.Bb(1024,c.p,(function(){return[[g]]}),[]),t.Bb(1024,c.g,(function(){return[[]]}),[]),t.Bb(1024,c.q,(function(n,e,l){return[c.k(n,e,l)]}),[t.q,c.p,c.g]),t.Bb(1073742336,c.d,c.d,[c.e,c.q,[2,i.p],[2,i.o]]),t.Bb(1073742336,P,P,[]),t.Bb(1024,E.j,(function(){return[[{path:"",component:F},{path:"**",redirectTo:""}],[{path:"auth",component:x.a},{path:"auth-success",component:x.a}]]}),[])])}))}}]);