(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{UTLn:function(n,l,t){"use strict";t.r(l);var o=t("CcnG"),e=function(){return function(){}}(),a=t("yGQT"),u=t("qfsr"),i=(t("dNPo"),t("NSPv"),t("qDRf")),c=(t("S9X5"),function(){function n(n){this.store=n,this.zoomLevel=3,this.nearByUploads$=this.store.pipe(Object(a.B)(i.a)),this.userLocation$=this.store.pipe(Object(a.B)(i.c))}return n.prototype.ngOnInit=function(){this.store.dispatch(u.a.setNearbyImagesVisible({payload:!0}))},n.prototype.ngOnDestroy=function(){this.store.dispatch(u.a.setNearbyImagesVisible({payload:!1}))},n.prototype.onLocationChange=function(n){this.store.dispatch(u.a.setUserLocation({payload:n}))},n.prototype.onUseMyLocation=function(){this.store.dispatch(u.a.requestUserLocation())},n}()),r=function(){return function(){}}(),s=t("pMnS"),b=t("ZYCi"),h=o.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}"]],data:{}});function p(n){return o.Nb(0,[(n()(),o.sb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),o.rb(1,212992,null,0,b.q,[b.b,o.O,o.j,[8,null],o.h],null,null)],(function(n,l){n(l,1,0)}),null)}function g(n){return o.Nb(0,[(n()(),o.sb(0,0,null,null,1,"dwu-near-me",[],null,null,null,p,h)),o.rb(1,49152,null,0,e,[],null,null)],null,null)}var f=o.ob("dwu-near-me",e,g,{},{},[]),d=t("ZGeo"),m=t("bMre"),C=t("Ip0R"),L=t("ozdi"),y=t("Xjb1"),M=t("LvDl"),v=t("611t"),w=function(){function n(){var n=this;this.location=v.a.fromLatLong(37.8,-122.3),this.locationChange=new o.n,this.debouncedLocationChange=Object(M.debounce)((function(l){l.isEqual(n.location)||n.locationChange.emit(l)}),100)}return n.prototype.ngOnChanges=function(n){n.location&&this.setMapCenter()},n.prototype.ngOnInit=function(){this.setMapCenter()},n.prototype.setMapCenter=function(){var n=this,l=this.location||v.a.fromLatLong(37.8,-122.3),t={lat:l.latitude,lng:l.longitude};this.map?this.map.setCenter(t):(this.map=new window.google.maps.Map(this.mapContainerEl.nativeElement,{zoom:13,center:t,disableDefaultUI:!0}),this.map.addListener("center_changed",(function(){var l=n.map.getCenter(),t=v.a.fromLatLong(l.lat(),l.lng());n.debouncedLocationChange(t)})))},n}(),O=o.qb({encapsulation:0,styles:[[".map-container[_ngcontent-%COMP%]{height:100%;width:100%}"]],data:{}});function P(n){return o.Nb(0,[o.Jb(402653184,1,{mapContainerEl:0}),(n()(),o.sb(1,0,[[1,0],["mapContainerEl",1]],null,0,"div",[["class","map-container"]],null,null,null,null,null))],null,null)}var _=function(){function n(){this.locationChange=new o.n,this.useMyLocation=new o.n}return n.prototype.onUseMyLocation=function(){this.useMyLocation.emit()},n.prototype.onLocationChange=function(n){this.location=n,this.locationChange.emit(n)},n}(),B=o.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{position:relative;display:block}.map-container[_ngcontent-%COMP%]{height:100%;width:100%}.use-my-location-button[_ngcontent-%COMP%]{position:absolute;top:.25rem;left:.25rem}.cross-hairs[_ngcontent-%COMP%]{position:absolute;height:24px;opacity:.8;top:50%;left:50%;transform:translate(-50%,-50%)}"]],data:{}});function z(n){return o.Nb(0,[(n()(),o.sb(0,0,null,null,1,"dwu-location-viewer",[],null,[[null,"locationChange"]],(function(n,l,t){var o=!0;return"locationChange"===l&&(o=!1!==n.component.onLocationChange(t)&&o),o}),P,O)),o.rb(1,638976,null,0,w,[],{location:[0,"location"]},{locationChange:"locationChange"}),(n()(),o.sb(2,0,null,null,1,"button",[["class","use-my-location-button"]],null,[[null,"click"]],(function(n,l,t){var o=!0;return"click"===l&&(o=!1!==n.component.onUseMyLocation()&&o),o}),null,null)),(n()(),o.Lb(-1,null,[" Use my location\n"])),(n()(),o.sb(4,0,null,null,2,"div",[["class","cross-hairs"]],null,null,null,null,null)),(n()(),o.sb(5,0,null,null,1,"div",[["class","material-icons"]],null,null,null,null,null)),(n()(),o.Lb(-1,null,[" center_focus_weak "]))],(function(n,l){n(l,1,0,l.component.location)}),null)}var N=o.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]{flex:1 1 0;height:28px;margin-left:.25rem}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]   .world-icon[_ngcontent-%COMP%]{padding:.125rem}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   dwu-zoom-level-picker[_ngcontent-%COMP%]{flex:0 0 auto;display:block;margin-right:.25rem}[_nghost-%COMP%]   dwu-location-picker[_ngcontent-%COMP%]{height:35%;width:100%}"]],data:{}});function k(n){return o.Nb(0,[(n()(),o.sb(0,0,null,null,2,"dwu-image-grid",[],null,null,null,d.b,d.a)),o.rb(1,573440,null,0,m.a,[],{files:[0,"files"],zoomLevel:[1,"zoomLevel"]},null),o.Fb(131072,C.b,[o.h])],(function(n,l){var t=l.component;n(l,1,0,o.Mb(l,1,0,o.Db(l,2).transform(t.nearByUploads$)),t.zoomLevel)}),null)}function q(n){return o.Nb(0,[(n()(),o.Lb(-1,null,[" noLocationSelectedTemplate\n"]))],null,null)}function U(n){return o.Nb(0,[(n()(),o.sb(0,0,null,null,5,"div",[["class","toolbar"]],null,null,null,null,null)),(n()(),o.sb(1,0,null,null,2,"div",[["class","left-toolbar"]],null,null,null,null,null)),(n()(),o.sb(2,0,null,null,1,"span",[["class","material-icons world-icon"]],null,null,null,null,null)),(n()(),o.Lb(-1,null,[" public "])),(n()(),o.sb(4,0,null,null,1,"dwu-zoom-level-picker",[],null,[[null,"zoomLevelChange"]],(function(n,l,t){var o=!0;return"zoomLevelChange"===l&&(o=!1!==(n.component.zoomLevel=t)&&o),o}),L.b,L.a)),o.rb(5,49152,null,0,y.a,[],{zoomLevel:[0,"zoomLevel"]},{zoomLevelChange:"zoomLevelChange"}),(n()(),o.sb(6,0,null,null,2,"dwu-location-picker",[],null,[[null,"useMyLocation"],[null,"locationChange"]],(function(n,l,t){var o=!0,e=n.component;return"useMyLocation"===l&&(o=!1!==e.onUseMyLocation()&&o),"locationChange"===l&&(o=!1!==e.onLocationChange(t)&&o),o}),z,B)),o.rb(7,49152,null,0,_,[],{location:[0,"location"]},{locationChange:"locationChange",useMyLocation:"useMyLocation"}),o.Fb(131072,C.b,[o.h]),(n()(),o.hb(16777216,null,null,2,null,k)),o.rb(10,16384,null,0,C.m,[o.O,o.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),o.Fb(131072,C.b,[o.h]),(n()(),o.hb(0,[["noLocationSelectedTemplate",2]],null,0,null,q))],(function(n,l){var t=l.component;n(l,5,0,t.zoomLevel),n(l,7,0,o.Mb(l,7,0,o.Db(l,8).transform(t.userLocation$))),n(l,10,0,o.Mb(l,10,0,o.Db(l,11).transform(t.userLocation$)),o.Db(l,12))}),null)}function x(n){return o.Nb(0,[(n()(),o.sb(0,0,null,null,1,"dwu-near-me-grid",[],null,null,null,U,N)),o.rb(1,245760,null,0,c,[a.n],null,null)],(function(n,l){n(l,1,0)}),null)}var I=o.ob("dwu-near-me-grid",c,x,{},{},[]),j=t("uaM9"),D=t("ygrP"),E=t("SxHE"),S=t("Fzqc"),F=t("dWZg"),T=t("qAlS"),$=t("Oo1w"),A=t("Tyz4"),G=function(){return function(){}}(),J=t("R7F0");t.d(l,"NearMeModuleNgFactory",(function(){return R}));var R=o.pb(r,[],(function(n){return o.Ab([o.Bb(512,o.j,o.ab,[[8,[s.a,f,I]],[3,o.j],o.w]),o.Bb(4608,C.o,C.n,[o.t,[2,C.A]]),o.Bb(1073742336,C.c,C.c,[]),o.Bb(1073742336,j.a,j.a,[]),o.Bb(1073742336,D.a,D.a,[]),o.Bb(1073742336,E.a,E.a,[]),o.Bb(1073742336,S.a,S.a,[]),o.Bb(1073742336,F.b,F.b,[]),o.Bb(1073742336,T.h,T.h,[]),o.Bb(1073742336,$.a,$.a,[]),o.Bb(1073742336,A.a,A.a,[]),o.Bb(1073742336,b.p,b.p,[[2,b.u],[2,b.l]]),o.Bb(1073742336,G,G,[]),o.Bb(1073742336,J.a,J.a,[]),o.Bb(1073742336,r,r,[]),o.Bb(1024,b.j,(function(){return[[{path:"",component:e,children:[{path:"grid",component:c},{path:"",redirectTo:"grid",pathMatch:"full"}]}]]}),[])])}))}}]);