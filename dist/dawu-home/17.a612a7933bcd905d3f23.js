(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{UTLn:function(n,o,t){"use strict";t.r(o);var l=t("CcnG"),e=function(){return function(){}}(),i=t("yGQT"),a=t("qfsr"),u=(t("dNPo"),t("NSPv"),t("qDRf")),c=(t("S9X5"),t("611t")),r=function(){function n(n){this.store=n,this.zoomLevel=3,this.viewingLocationPicker=!0,this.defaultLoc=c.a.fromLatLong(37.803,-122.271),this.nearByUploads$=this.store.pipe(Object(i.B)(u.a)),this.userLocation$=this.store.pipe(Object(i.B)(u.c))}return n.prototype.ngOnInit=function(){this.store.dispatch(a.a.setNearbyImagesVisible({payload:!0}))},n.prototype.ngOnDestroy=function(){this.store.dispatch(a.a.setNearbyImagesVisible({payload:!1}))},n.prototype.onLocationChange=function(n){this.store.dispatch(a.a.setUserLocation({payload:n}))},n.prototype.onUseMyLocation=function(){this.store.dispatch(a.a.requestUserLocation())},n}(),s=function(){return function(){}}(),b=t("pMnS"),g=t("ZYCi"),h=l.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}"]],data:{}});function p(n){return l.Nb(0,[(n()(),l.sb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l.rb(1,212992,null,0,g.q,[g.b,l.O,l.j,[8,null],l.h],null,null)],(function(n,o){n(o,1,0)}),null)}function d(n){return l.Nb(0,[(n()(),l.sb(0,0,null,null,1,"dwu-near-me",[],null,null,null,p,h)),l.rb(1,49152,null,0,e,[],null,null)],null,null)}var f=l.ob("dwu-near-me",e,d,{},{},[]),m=t("LvDl"),C=function(){function n(){var n=this;this.locationChange=new l.n,this.debouncedLocationChange=Object(m.debounce)((function(){n.locationChange.emit(n.location)}),100,{maxWait:750})}return n.prototype.ngOnChanges=function(n){n.location&&this.setMapCenter()},n.prototype.ngOnInit=function(){this.setMapCenter()},n.prototype.setMapCenter=function(){var n=this,o={lat:this.location.latitude,lng:this.location.longitude};if(this.map){var t=this.map.getCenter();t.lat()===o.lat&&t.lng()===o.lng||this.map.setCenter(o)}else this.map=new window.google.maps.Map(this.mapContainerEl.nativeElement,{zoom:13,center:o,disableDefaultUI:!0}),this.map.addListener("center_changed",(function(){var o=n.map.getCenter();n.location=c.a.fromLatLong(o.lat(),o.lng()),n.debouncedLocationChange()})),this.locationChange.emit(this.location)},n}(),M=l.qb({encapsulation:0,styles:[[".map-container[_ngcontent-%COMP%]{height:100%;width:100%}"]],data:{}});function L(n){return l.Nb(0,[l.Jb(402653184,1,{mapContainerEl:0}),(n()(),l.sb(1,0,[[1,0],["mapContainerEl",1]],null,0,"div",[["class","map-container"]],null,null,null,null,null))],null,null)}var v=function(){function n(){this.locationChange=new l.n,this.useMyLocation=new l.n}return n.prototype.onUseMyLocation=function(){this.useMyLocation.emit()},n.prototype.onLocationChange=function(n){this.location=n,this.locationChange.emit(n)},n}(),O=l.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{position:relative;display:block}.map-container[_ngcontent-%COMP%]{height:100%;width:100%}.use-my-location-button[_ngcontent-%COMP%]{position:absolute;top:.25rem;left:.25rem}.cross-hairs[_ngcontent-%COMP%]{position:absolute;height:24px;opacity:.8;top:50%;left:50%;transform:translate(-50%,-50%);pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"]],data:{}});function w(n){return l.Nb(0,[(n()(),l.sb(0,0,null,null,1,"dwu-location-viewer",[],null,[[null,"locationChange"]],(function(n,o,t){var l=!0;return"locationChange"===o&&(l=!1!==n.component.onLocationChange(t)&&l),l}),L,M)),l.rb(1,638976,null,0,C,[],{location:[0,"location"]},{locationChange:"locationChange"}),(n()(),l.sb(2,0,null,null,1,"button",[["class","use-my-location-button"]],null,[[null,"click"]],(function(n,o,t){var l=!0;return"click"===o&&(l=!1!==n.component.onUseMyLocation()&&l),l}),null,null)),(n()(),l.Lb(-1,null,[" Use my location\n"])),(n()(),l.sb(4,0,null,null,2,"div",[["class","cross-hairs"]],null,null,null,null,null)),(n()(),l.sb(5,0,null,null,1,"div",[["class","material-icons"]],null,null,null,null,null)),(n()(),l.Lb(-1,null,[" center_focus_weak "]))],(function(n,o){n(o,1,0,o.component.location)}),null)}var P=t("Ip0R"),y=t("ZGeo"),_=t("bMre"),k=t("ozdi"),z=t("Xjb1"),B=l.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]{flex:1 1 0;height:28px}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]   .world-icon-container[_ngcontent-%COMP%]{display:inline-block;height:28px;padding:.125rem;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]   .world-icon-container[_ngcontent-%COMP%]   .world-icon[_ngcontent-%COMP%]{background-color:#eae6da;border-radius:.125rem}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]   .world-icon-container[_ngcontent-%COMP%]   .world-icon[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#bac39f}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]   .world-icon-container[_ngcontent-%COMP%]   .world-icon.active[_ngcontent-%COMP%]:not([disabled]){background-color:#708238;color:#fcfcf9}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   .left-toolbar[_ngcontent-%COMP%]   .world-icon-container[_ngcontent-%COMP%]   .world-icon[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.3}[_nghost-%COMP%]   .toolbar[_ngcontent-%COMP%]   dwu-zoom-level-picker[_ngcontent-%COMP%]{flex:0 0 auto;display:block;margin-right:.25rem}[_nghost-%COMP%]   dwu-location-picker[_ngcontent-%COMP%]{height:35%;width:100%}"]],data:{}});function N(n){return l.Nb(0,[(n()(),l.sb(0,0,null,null,2,"dwu-location-picker",[],null,[[null,"useMyLocation"],[null,"locationChange"]],(function(n,o,t){var l=!0,e=n.component;return"useMyLocation"===o&&(l=!1!==e.onUseMyLocation()&&l),"locationChange"===o&&(l=!1!==e.onLocationChange(t)&&l),l}),w,O)),l.rb(1,49152,null,0,v,[],{location:[0,"location"]},{locationChange:"locationChange",useMyLocation:"useMyLocation"}),l.Fb(131072,P.b,[l.h])],(function(n,o){var t=o.component;n(o,1,0,l.Mb(o,1,0,l.Db(o,2).transform(t.userLocation$))||t.defaultLoc)}),null)}function x(n){return l.Nb(0,[(n()(),l.sb(0,0,null,null,2,"dwu-image-grid",[],null,null,null,y.b,y.a)),l.rb(1,573440,null,0,_.a,[],{files:[0,"files"],zoomLevel:[1,"zoomLevel"]},null),l.Fb(131072,P.b,[l.h])],(function(n,o){var t=o.component;n(o,1,0,l.Mb(o,1,0,l.Db(o,2).transform(t.nearByUploads$)),t.zoomLevel)}),null)}function I(n){return l.Nb(0,[(n()(),l.Lb(-1,null,[" noLocationSelectedTemplate\n"]))],null,null)}function U(n){return l.Nb(0,[(n()(),l.hb(16777216,null,null,1,null,N)),l.rb(1,16384,null,0,P.m,[l.O,l.L],{ngIf:[0,"ngIf"]},null),(n()(),l.sb(2,0,null,null,6,"div",[["class","toolbar"]],null,null,null,null,null)),(n()(),l.sb(3,0,null,null,3,"div",[["class","left-toolbar"]],null,null,null,null,null)),(n()(),l.sb(4,0,null,null,2,"div",[["class","world-icon-container"]],null,[[null,"click"]],(function(n,o,t){var l=!0,e=n.component;return"click"===o&&(l=0!=(e.viewingLocationPicker=!e.viewingLocationPicker)&&l),l}),null,null)),(n()(),l.sb(5,0,null,null,1,"span",[["class","material-icons world-icon"]],[[2,"active",null]],null,null,null,null)),(n()(),l.Lb(-1,null,["public"])),(n()(),l.sb(7,0,null,null,1,"dwu-zoom-level-picker",[],null,[[null,"zoomLevelChange"]],(function(n,o,t){var l=!0;return"zoomLevelChange"===o&&(l=!1!==(n.component.zoomLevel=t)&&l),l}),k.b,k.a)),l.rb(8,49152,null,0,z.a,[],{zoomLevel:[0,"zoomLevel"]},{zoomLevelChange:"zoomLevelChange"}),(n()(),l.hb(16777216,null,null,2,null,x)),l.rb(10,16384,null,0,P.m,[l.O,l.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),l.Fb(131072,P.b,[l.h]),(n()(),l.hb(0,[["noLocationSelectedTemplate",2]],null,0,null,I))],(function(n,o){var t=o.component;n(o,1,0,t.viewingLocationPicker),n(o,8,0,t.zoomLevel),n(o,10,0,l.Mb(o,10,0,l.Db(o,11).transform(t.userLocation$)),l.Db(o,12))}),(function(n,o){n(o,5,0,o.component.viewingLocationPicker)}))}function q(n){return l.Nb(0,[(n()(),l.sb(0,0,null,null,1,"dwu-near-me-grid",[],null,null,null,U,B)),l.rb(1,245760,null,0,r,[i.n],null,null)],(function(n,o){n(o,1,0)}),null)}var j=l.ob("dwu-near-me-grid",r,q,{},{},[]),D=t("uaM9"),E=t("ygrP"),S=t("SxHE"),F=t("Fzqc"),T=t("dWZg"),$=t("qAlS"),A=t("Oo1w"),G=t("Tyz4"),J=function(){return function(){}}(),R=t("R7F0");t.d(o,"NearMeModuleNgFactory",(function(){return Z}));var Z=l.pb(s,[],(function(n){return l.Ab([l.Bb(512,l.j,l.ab,[[8,[b.a,f,j]],[3,l.j],l.w]),l.Bb(4608,P.o,P.n,[l.t,[2,P.A]]),l.Bb(1073742336,P.c,P.c,[]),l.Bb(1073742336,D.a,D.a,[]),l.Bb(1073742336,E.a,E.a,[]),l.Bb(1073742336,S.a,S.a,[]),l.Bb(1073742336,F.a,F.a,[]),l.Bb(1073742336,T.b,T.b,[]),l.Bb(1073742336,$.h,$.h,[]),l.Bb(1073742336,A.a,A.a,[]),l.Bb(1073742336,G.a,G.a,[]),l.Bb(1073742336,g.p,g.p,[[2,g.u],[2,g.l]]),l.Bb(1073742336,J,J,[]),l.Bb(1073742336,R.a,R.a,[]),l.Bb(1073742336,s,s,[]),l.Bb(1024,g.j,(function(){return[[{path:"",component:e,children:[{path:"grid",component:r},{path:"",redirectTo:"grid",pathMatch:"full"}]}]]}),[])])}))}}]);