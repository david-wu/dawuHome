(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Gi3i:function(n,t,e){"use strict";e.d(t,"a",(function(){return r}));var l=e("mrSG"),o=e("FFOo"),i=e("T1DM");function r(n,t){return void 0===t&&(t=i.a),function(e){return e.lift(new u(n,t))}}var u=function(){function n(n,t){this.dueTime=n,this.scheduler=t}return n.prototype.call=function(n,t){return t.subscribe(new s(n,this.dueTime,this.scheduler))},n}(),s=function(n){function t(t,e,l){var o=n.call(this,t)||this;return o.dueTime=e,o.scheduler=l,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return l.__extends(t,n),t.prototype._next=function(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(a,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var n=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}},t.prototype.clearDebounce=function(){var n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)},t}(o.a);function a(n){n.debouncedNext()}},KtZj:function(n,t,e){"use strict";var l,o;"undefined"!=typeof window&&window,void 0===(o="function"==typeof(l=function(){if("undefined"==typeof window)return null;var n="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),t=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||function(t){return n.setTimeout(t,20)},e=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame||function(t){n.clearTimeout(t)};function l(n,t){var e=Object.prototype.toString.call(n),l="[object Array]"===e||"[object NodeList]"===e||"[object HTMLCollection]"===e||"[object Object]"===e||"undefined"!=typeof jQuery&&n instanceof jQuery||"undefined"!=typeof Elements&&n instanceof Elements,o=0,i=n.length;if(l)for(;o<i;o++)t(n[o]);else t(n)}function o(n){if(!n.getBoundingClientRect)return{width:n.offsetWidth,height:n.offsetHeight};var t=n.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function i(n,t){Object.keys(t).forEach((function(e){n.style[e]=t[e]}))}var r=function(n,u){var s=0;function a(){var n,t,e=[];this.add=function(n){e.push(n)},this.call=function(l){for(n=0,t=e.length;n<t;n++)e[n].call(this,l)},this.remove=function(l){var o=[];for(n=0,t=e.length;n<t;n++)e[n]!==l&&o.push(e[n]);e=o},this.length=function(){return e.length}}l(n,(function(n){!function(n,e){if(n)if(n.resizedAttached)n.resizedAttached.add(e);else{n.resizedAttached=new a,n.resizedAttached.add(e),n.resizeSensor=document.createElement("div"),n.resizeSensor.dir="ltr",n.resizeSensor.className="resize-sensor";var l={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},r={position:"absolute",left:"0px",top:"0px",transition:"0s"};i(n.resizeSensor,l);var u=document.createElement("div");u.className="resize-sensor-expand",i(u,l);var c=document.createElement("div");i(c,r),u.appendChild(c);var d=document.createElement("div");d.className="resize-sensor-shrink",i(d,l);var h=document.createElement("div");i(h,r),i(h,{width:"200%",height:"200%"}),d.appendChild(h),n.resizeSensor.appendChild(u),n.resizeSensor.appendChild(d),n.appendChild(n.resizeSensor);var p=window.getComputedStyle(n),m=p?p.getPropertyValue("position"):null;"absolute"!==m&&"relative"!==m&&"fixed"!==m&&"sticky"!==m&&(n.style.position="relative");var f=!1,g=0,v=o(n),b=0,w=0,C=!0;s=0;var y=function(){if(C){if(0===n.offsetWidth&&0===n.offsetHeight)return void(s||(s=t((function(){s=0,y()}))));C=!1}var e,l;l=n.offsetHeight,c.style.width=(e=n.offsetWidth)+10+"px",c.style.height=l+10+"px",u.scrollLeft=e+10,u.scrollTop=l+10,d.scrollLeft=e+10,d.scrollTop=l+10};n.resizeSensor.resetSensor=y;var I=function(){g=0,f&&(b=v.width,w=v.height,n.resizedAttached&&n.resizedAttached.call(v))},O=function(){v=o(n),(f=v.width!==b||v.height!==w)&&!g&&(g=t(I)),y()},x=function(n,t,e){n.attachEvent?n.attachEvent("on"+t,e):n.addEventListener(t,e)};x(u,"scroll",O),x(d,"scroll",O),s=t((function(){s=0,y()}))}}(n,u)})),this.detach=function(t){s||(e(s),s=0),r.detach(n,t)},this.reset=function(){n.resizeSensor.resetSensor()}};if(r.reset=function(n){l(n,(function(n){n.resizeSensor.resetSensor()}))},r.detach=function(n,t){l(n,(function(n){n&&(n.resizedAttached&&"function"==typeof t&&(n.resizedAttached.remove(t),n.resizedAttached.length())||n.resizeSensor&&(n.contains(n.resizeSensor)&&n.removeChild(n.resizeSensor),delete n.resizeSensor,delete n.resizedAttached))}))},"undefined"!=typeof MutationObserver){var u=new MutationObserver((function(n){for(var t in n)if(n.hasOwnProperty(t))for(var e=n[t].addedNodes,l=0;l<e.length;l++)e[l].resizeSensor&&r.reset(e[l])}));document.addEventListener("DOMContentLoaded",(function(n){u.observe(document.body,{childList:!0,subtree:!0})}))}return r})?l.call(t,e,t,n):l)||(n.exports=o)},Oo1w:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var l=function(){return function(){}}()},R7F0:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var l=function(){return function(){}}()},SxHE:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var l=function(){return function(){}}()},Tyz4:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));var l=function(){return function(){}}()},Wucu:function(n,t,e){"use strict";e.d(t,"a",(function(){return o})),e.d(t,"b",(function(){return i}));var l=e("CcnG"),o=(e("qAlS"),e("Fzqc"),e("dWZg"),l.qb({encapsulation:2,styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:0}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:0}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}"],data:{}}));function i(n){return l.Nb(2,[l.Jb(402653184,1,{_contentWrapper:0}),(n()(),l.sb(1,0,[[1,0],["contentWrapper",1]],null,1,"div",[["class","cdk-virtual-scroll-content-wrapper"]],null,null,null,null,null)),l.Cb(null,0),(n()(),l.sb(3,0,null,null,0,"div",[["class","cdk-virtual-scroll-spacer"]],[[4,"width",null],[4,"height",null]],null,null,null,null))],null,(function(n,t){var e=t.component;n(t,3,0,e._totalContentWidth,e._totalContentHeight)}))}},Xjb1:function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var l=e("CcnG"),o=function(){function n(){this.zoomLevelChange=new l.n,this.minZoomLevel=1,this.maxZoomLevel=6}return n.prototype.zoomIn=function(){this.zoomLevel=Math.max(this.minZoomLevel,this.zoomLevel-1),this.zoomLevelChange.emit(this.zoomLevel)},n.prototype.zoomOut=function(){this.zoomLevel=Math.min(this.maxZoomLevel,this.zoomLevel+1),this.zoomLevelChange.emit(this.zoomLevel)},n}()},ZGeo:function(n,t,e){"use strict";var l=e("CcnG"),o=e("iWpE"),i=e("Zu2T"),r=e("Ip0R"),u=function(){function n(n){this.hostEl=n,this.tabindex=0,this.select=new l.n,this.delete=new l.n,this.download=new l.n,this.zoomIn=new l.n,this.isFocused=!1,this.hideOverlay=!1}return n.prototype.onFocus=function(){this.isFocused=!0},n.prototype.onBlur=function(){this.isFocused=!1,this.hideOverlay=!1},n.prototype.onMouseleave=function(){this.isFocused=!1,this.hideOverlay=!1},n.prototype.onMousedown=function(){this.isFocused&&(this.hideOverlay=!this.hideOverlay)},n.prototype.onSelect=function(n){n.stopPropagation(),this.select.emit()},n.prototype.onDelete=function(n){n.stopPropagation(),this.delete.emit()},n.prototype.onDownload=function(n){n.stopPropagation(),this.download.emit()},n.prototype.onZoomIn=function(n){n.stopPropagation(),this.zoomIn.emit()},n}(),s=l.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;width:100%;height:100%;cursor:pointer;position:relative;outline:0}[_nghost-%COMP%]   .grid-image[_ngcontent-%COMP%]{width:100%;height:100%}@media (hover:hover){[_nghost-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{display:block}}.overlay[_ngcontent-%COMP%]{display:none;position:absolute;width:100%;height:100%;top:0;left:0}.overlay.is-visible[_ngcontent-%COMP%]{display:block}.overlay[_ngcontent-%COMP%]   .corner[_ngcontent-%COMP%]{position:absolute;width:48px;height:48px}.overlay[_ngcontent-%COMP%]   .corner.upper-left[_ngcontent-%COMP%]{background:linear-gradient(315deg,rgba(255,255,255,0) 50%,rgba(112,130,56,.6) 55%,rgba(63,64,56,.6) 60%);top:0;left:0}.overlay[_ngcontent-%COMP%]   .corner.upper-right[_ngcontent-%COMP%]{background:linear-gradient(45deg,rgba(255,255,255,0) 50%,rgba(112,130,56,.6) 55%,rgba(63,64,56,.6) 60%);top:0;right:0}.overlay[_ngcontent-%COMP%]   .corner.bottom-right[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(255,255,255,0) 50%,rgba(112,130,56,.6) 55%,rgba(63,64,56,.6) 60%);bottom:0;right:0}.overlay[_ngcontent-%COMP%]   .corner.bottom-left[_ngcontent-%COMP%]{background:linear-gradient(225deg,rgba(255,255,255,0) 50%,rgba(112,130,56,.6) 55%,rgba(63,64,56,.6) 60%);bottom:0;left:0}.overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;color:#fff;opacity:.6;width:26px;height:26px;padding:3px}.overlay[_ngcontent-%COMP%]   .icon.upper-left[_ngcontent-%COMP%]{top:0;left:0}.overlay[_ngcontent-%COMP%]   .icon.upper-right[_ngcontent-%COMP%]{top:0;right:0}.overlay[_ngcontent-%COMP%]   .icon.bottom-right[_ngcontent-%COMP%]{bottom:0;right:0}.overlay[_ngcontent-%COMP%]   .icon.bottom-left[_ngcontent-%COMP%]{bottom:0;left:0}.overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover{opacity:1}.overlay[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{width:20px;height:20px;font-size:20px;line-height:20px}"]],data:{}});function a(n){return l.Nb(0,[(n()(),l.sb(0,0,null,null,0,"img",[["class","grid-image"]],[[8,"src",4]],null,null,null,null))],null,(function(n,t){n(t,0,0,t.component.src)}))}function c(n){return l.Nb(0,[(n()(),l.sb(0,0,null,null,1,"div",[["class","loader-container centered"]],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,0,"div",[["class","dwu-loader"]],null,null,null,null,null))],null,null)}function d(n){return l.Nb(2,[(n()(),l.hb(16777216,null,null,1,null,a)),l.rb(1,16384,null,0,r.m,[l.O,l.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),l.sb(2,0,null,null,16,"div",[["class","overlay"]],[[2,"is-visible",null]],null,null,null,null)),(n()(),l.sb(3,0,null,null,0,"div",[["class","corner upper-left"]],null,null,null,null,null)),(n()(),l.sb(4,0,null,null,0,"div",[["class","corner upper-right"]],null,null,null,null,null)),(n()(),l.sb(5,0,null,null,0,"div",[["class","corner bottom-right"]],null,null,null,null,null)),(n()(),l.sb(6,0,null,null,0,"div",[["class","corner bottom-left"]],null,null,null,null,null)),(n()(),l.sb(7,0,null,null,2,"div",[["class","icon upper-left"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onSelect(e)&&l),l}),null,null)),(n()(),l.sb(8,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(n()(),l.Lb(-1,null,["check_box_outline_blank"])),(n()(),l.sb(10,0,null,null,2,"div",[["class","icon upper-right"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDelete(e)&&l),l}),null,null)),(n()(),l.sb(11,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(n()(),l.Lb(-1,null,["delete"])),(n()(),l.sb(13,0,null,null,2,"div",[["class","icon bottom-left"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onDownload(e)&&l),l}),null,null)),(n()(),l.sb(14,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(n()(),l.Lb(-1,null,["cloud_download"])),(n()(),l.sb(16,0,null,null,2,"div",[["class","icon bottom-right"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.onZoomIn(e)&&l),l}),null,null)),(n()(),l.sb(17,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(n()(),l.Lb(-1,null,["zoom_in"])),(n()(),l.hb(0,[["loader",2]],null,0,null,c))],(function(n,t){n(t,1,0,t.component.src,l.Db(t,19))}),(function(n,t){var e=t.component;n(t,2,0,e.isFocused&&!e.hideOverlay)}))}e("bMre"),e.d(t,"a",(function(){return h})),e.d(t,"b",(function(){return v}));var h=l.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{height:100%;width:100%}[_nghost-%COMP%]   .near-by-uploads[_ngcontent-%COMP%]{flex:1 1 0;display:flex;flex-wrap:wrap}.tile[_ngcontent-%COMP%]{padding:1px;position:relative}.magnified-image-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;bottom:0;right:0;padding:1rem;max-width:100%;max-height:100%;display:flex;align-items:center;justify-content:center;background-color:rgba(0,0,0,.85)}.magnified-image-container[_ngcontent-%COMP%]   img.magnified-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%}"]],data:{}});function p(n){return l.Nb(0,[(n()(),l.sb(0,0,null,null,1,"dwu-virtual-scroll-grid",[["class","near-by-uploads"]],null,[[null,"alwaysUseMaxColumnsChange"],[null,"centeredTileIdChange"]],(function(n,t,e){var l=!0,o=n.component;return"alwaysUseMaxColumnsChange"===t&&(l=!1!==(o.alwaysUseMaxColumns=e)&&l),"centeredTileIdChange"===t&&(l=!1!==(o.centeredTileId=e)&&l),l}),o.b,o.a)),l.rb(1,770048,null,0,i.a,[l.k],{tileIds:[0,"tileIds"],maxColumns:[1,"maxColumns"],alwaysUseMaxColumns:[2,"alwaysUseMaxColumns"],centeredTileId:[3,"centeredTileId"],tileTemplate:[4,"tileTemplate"],tileOptions:[5,"tileOptions"]},{centeredTileIdChange:"centeredTileIdChange"})],(function(n,t){var e=t.component;n(t,1,0,e.fileIds,e.zoomLevel,e.alwaysUseMaxColumns,e.centeredTileId,l.Db(t.parent,2),e.tileOptions)}),null)}function m(n){return l.Nb(0,[(n()(),l.sb(0,0,null,null,2,"div",[["class","tile"]],[[4,"width",null],[4,"height",null]],null,null,null,null)),(n()(),l.sb(1,0,null,null,1,"dwu-decorated-image",[["class","grid-image"]],[[8,"tabIndex",0]],[[null,"zoomIn"],[null,"download"],[null,"focus"],[null,"blur"],[null,"mouseleave"],[null,"mousedown"]],(function(n,t,e){var o=!0,i=n.component;return"focus"===t&&(o=!1!==l.Db(n,2).onFocus()&&o),"blur"===t&&(o=!1!==l.Db(n,2).onBlur()&&o),"mouseleave"===t&&(o=!1!==l.Db(n,2).onMouseleave()&&o),"mousedown"===t&&(o=!1!==l.Db(n,2).onMousedown()&&o),"zoomIn"===t&&(o=!1!==i.onZoomIn(n.context.tileId)&&o),"download"===t&&(o=!1!==i.downloadImage(n.context.tileId)&&o),o}),d,s)),l.rb(2,49152,null,0,u,[l.k],{src:[0,"src"]},{download:"download",zoomIn:"zoomIn"})],(function(n,t){n(t,2,0,t.component.getImgSrc(t.context.tileId,t.context.targetTileOption.maxWidth))}),(function(n,t){n(t,0,0,t.context.scaledImageWidthStr,t.context.scaledImageHeightStr),n(t,1,0,l.Db(t,2).tabindex)}))}function f(n){return l.Nb(0,[(n()(),l.sb(0,0,null,null,1,"div",[["class","loader-container for-page"]],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,0,"div",[["class","dwu-loader"]],null,null,null,null,null))],null,null)}function g(n){return l.Nb(0,[(n()(),l.sb(0,0,null,null,1,"div",[["class","magnified-image-container"]],null,[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==(n.component.magnifiedImageId=void 0)&&l),l}),null,null)),(n()(),l.sb(1,0,null,null,0,"img",[["class","magnified-image"]],[[8,"src",4]],null,null,null,null))],null,(function(n,t){var e=t.component;n(t,1,0,e.getImgSrc(e.magnifiedImageId,1080))}))}function v(n){return l.Nb(0,[(n()(),l.hb(16777216,null,null,1,null,p)),l.rb(1,16384,null,0,r.m,[l.O,l.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),l.hb(0,[["tileTemplate",2]],null,0,null,m)),(n()(),l.hb(0,[["loaderForPage",2]],null,0,null,f)),(n()(),l.hb(16777216,null,null,1,null,g)),l.rb(5,16384,null,0,r.m,[l.O,l.L],{ngIf:[0,"ngIf"]},null)],(function(n,t){var e=t.component;n(t,1,0,e.fileIds,l.Db(t,3)),n(t,5,0,e.magnifiedImageId)}),null)}},Zu2T:function(n,t,e){"use strict";e.d(t,"a",(function(){return d}));var l=e("CcnG"),o=e("26FU"),i=e("p0ib"),r=e("Gi3i"),u=e("LvDl"),s=e("qAlS"),a=e("KtZj"),c=e.n(a),d=function(){function n(n){this.hostEl=n,this.tileIds=[],this.maxColumns=5,this.alwaysUseMaxColumns=!1,this.centeredTileIdChange=new l.n,this.columnCount=void 0,this.imageWidth=void 0,this.scaledImageWidth=void 0,this.scaledImageWidthStr=void 0,this.scaledImageHeight=void 0,this.scaledImageHeightStr=void 0,this.strat=new s.e(1,1,1),this.layoutChange$=new o.a(void 0)}return n.prototype.ngOnChanges=function(n){(n.tileIds||n.tileOptions||n.maxColumns||n.alwaysUseMaxColumns)&&(this.sizeTiles(),this.layoutChange$.next(null),this.scrollToCenteredTileId()),n.centeredTileId&&n.centeredTileId.previousValue!==n.centeredTileId.currentValue&&this.scrollToCenteredTileId()},n.prototype.ngOnInit=function(){var n=this;this.sizeTiles(),this.layoutChange$.next(null),this.scrollToCenteredTileId(),this.sensor=new c.a(this.hostEl.nativeElement,(function(){n.sizeTiles(),n.layoutChange$.next(null),n.scrollToCenteredTileId()})),this.strat.attach(this.scrollViewport),this.sub=Object(i.a)(this.scrollViewport.elementScrolled(),this.layoutChange$).pipe(Object(r.a)(200)).subscribe((function(){return n.updateCenteredTileId()}))},n.prototype.ngOnDestroy=function(){this.sensor&&this.sensor.detach(),this.sub&&this.sub.unsubscribe()},n.prototype.sizeTiles=function(){var n=this.hostEl.nativeElement.clientWidth-16,t=this.hostEl.nativeElement.clientHeight;this.targetTileOption=this.pickTileOption(n),this.columnCount=this.alwaysUseMaxColumns?this.maxColumns:Math.min(Math.ceil(n/this.targetTileOption.maxWidth),this.maxColumns),this.scaledImageWidth=n/this.columnCount,this.scaledImageHeight=this.scaledImageWidth/this.targetTileOption.aspectRatio;var e=Math.max(this.scaledImageHeight/t,1);this.scaledImageWidth/=e,this.scaledImageHeight/=e,this.scaledImageWidthStr=this.scaledImageWidth+"px",this.scaledImageHeightStr=this.scaledImageHeight+"px",this.setTileIdRows(this.columnCount,this.tileIds),this.strat.updateItemAndBufferSize(this.scaledImageHeight,2*this.scaledImageHeight,3*this.scaledImageHeight),this.strat.attach(this.scrollViewport)},n.prototype.pickTileOption=function(n){var t=this;return this.tileOptions.find((function(e){return e.maxWidth*(e.maxColumns||t.maxColumns)>=n}))||Object(u.last)(this.tileOptions)},n.prototype.setTileIdRows=function(n,t){void 0===n&&(n=this.columnCount),void 0===t&&(t=this.tileIds),this.tileIdRows=this.getTileIdRows(t,n),this.tileIds=t},n.prototype.getTileIdRows=function(n,t){if(!n||!n.length||!t)return[];for(var e=[],l=[n[0]],o=1;o<n.length;o++)o%t==0&&(e.push(l),l=[]),l.push(n[o]);return l.length&&e.push(l),e},n.prototype.updateCenteredTileId=function(){var n=this.scrollViewport.measureScrollOffset("top"),t=this.getMostCenteredRowIndex(n),e=this.tileIdRows[t];if(e&&!e.includes(this.centeredTileId)){var l=e[Math.floor(e.length/2)];this.centeredTileId=l,this.centeredTileIdChange.emit(l)}},n.prototype.scrollToCenteredTileId=function(n){var t=this;void 0===n&&(n=this.centeredTileId),this.tileIds&&this.scrollViewport&&n&&(clearTimeout(this.scrollToTimeout),this.scrollToTimeout=setTimeout((function(){var e=t.getMostCenteredRowIndex(),l=t.tileIdRows[e];if(l&&!l.includes(n)){var o=t.hostEl.nativeElement.clientHeight,i=t.tileIds.indexOf(n),r=Math.ceil((i+1)/t.columnCount)-1;t.scrollViewport.scrollTo({top:r*t.scaledImageHeight-o/2+t.scaledImageHeight/2})}})))},n.prototype.getMostCenteredRowIndex=function(n){return n=n||this.scrollViewport.measureScrollOffset("top"),Math.round((n+this.hostEl.nativeElement.clientHeight/2)/this.scaledImageHeight-.5)},n}()},bMre:function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var l=e("LvDl"),o=function(){function n(){this.zoomLevel=3,this.alwaysUseMaxColumns=!0,this.tileOptions=[{maxWidth:150,aspectRatio:4/3},{maxWidth:320,aspectRatio:4/3},{maxWidth:640,aspectRatio:4/3},{maxWidth:1080,aspectRatio:4/3}]}return n.prototype.ngOnChanges=function(n){n.files&&this.files&&(this.fileIds=Object(l.map)(this.files,(function(n){return n.id})),this.filesById=Object(l.keyBy)(this.files,(function(n){return n.id})))},n.prototype.getImgSrc=function(n,t){return t=Math.min(640,t),Object(l.get)(this.filesById,[n,"uploadMeta","downloadUrl_"+t])},n.prototype.onZoomIn=function(n){this.magnifiedImageId=n},n.prototype.downloadImage=function(n){var t=this.filesById[n].uploadMeta.downloadUrl,e=window.URL||window.webkitURL,l=new XMLHttpRequest,o=document.createElement("a");l.open("GET",t,!0),l.responseType="blob",l.onload=function(){var t=new Blob([l.response],{type:"application/octet-stream"});o.href=e.createObjectURL(t),o.download=n+".jpg",o.style="display: none",document.body.appendChild(o),o.click(),o.remove()},l.send()},n}()},iWpE:function(n,t,e){"use strict";var l=e("CcnG"),o=e("Ip0R"),i=e("Wucu"),r=e("qAlS"),u=e("Fzqc");e("Zu2T"),e.d(t,"a",(function(){return s})),e.d(t,"b",(function(){return h}));var s=l.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;height:100%;width:100%;flex-direction:column}[_nghost-%COMP%]   cdk-virtual-scroll-viewport[_ngcontent-%COMP%]{display:block;flex:1 1 0;overflow-x:hidden}[_nghost-%COMP%]   .upload-file-container-row[_ngcontent-%COMP%]{display:flex;justify-content:center}"]],data:{}});function a(n){return l.Nb(0,[(n()(),l.hb(0,null,null,0))],null,null)}function c(n){return l.Nb(0,[(n()(),l.sb(0,0,null,null,3,"div",[["class","upload-file-container"]],null,null,null,null,null)),(n()(),l.hb(16777216,null,null,2,null,a)),l.rb(2,540672,null,0,o.r,[l.O],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Gb(3,{scaledImageWidthStr:0,scaledImageHeightStr:1,tileId:2,targetTileOption:3})],(function(n,t){var e=t.component,l=n(t,3,0,e.scaledImageWidthStr,e.scaledImageHeightStr,t.context.$implicit,e.targetTileOption);n(t,2,0,l,e.tileTemplate)}),null)}function d(n){return l.Nb(0,[(n()(),l.sb(0,0,null,null,2,"div",[["class","upload-file-container-row"]],null,null,null,null,null)),(n()(),l.hb(16777216,null,null,1,null,c)),l.rb(2,278528,null,0,o.l,[l.O,l.L,l.r],{ngForOf:[0,"ngForOf"]},null)],(function(n,t){n(t,2,0,t.context.$implicit)}),null)}function h(n){return l.Nb(0,[l.Jb(402653184,1,{scrollViewport:0}),(n()(),l.sb(1,0,null,null,6,"cdk-virtual-scroll-viewport",[["class","viewport cdk-virtual-scroll-viewport"]],[[2,"cdk-virtual-scroll-orientation-horizontal",null],[2,"cdk-virtual-scroll-orientation-vertical",null]],null,null,i.b,i.a)),l.Ib(6144,null,r.b,null,[r.d]),l.rb(3,540672,null,0,r.a,[],{itemSize:[0,"itemSize"]},null),l.Ib(1024,null,r.i,r.j,[r.a]),l.rb(5,245760,[[1,4],["scrollViewport",4]],0,r.d,[l.k,l.h,l.y,[2,r.i],[2,u.b],r.g],null,null),(n()(),l.hb(16777216,null,0,1,null,d)),l.rb(7,409600,null,0,r.c,[l.O,l.L,l.r,[1,r.d],l.y],{cdkVirtualForOf:[0,"cdkVirtualForOf"]},null)],(function(n,t){var e=t.component;n(t,3,0,e.scaledImageHeight),n(t,5,0),n(t,7,0,e.tileIdRows)}),(function(n,t){n(t,1,0,"horizontal"===l.Db(t,5).orientation,"horizontal"!==l.Db(t,5).orientation)}))}},ozdi:function(n,t,e){"use strict";var l=e("CcnG");e("Xjb1"),e.d(t,"a",(function(){return o})),e.d(t,"b",(function(){return i}));var o=l.qb({encapsulation:0,styles:[[".zoom-icons[_ngcontent-%COMP%]{height:28px}.zoom-icons[_ngcontent-%COMP%]   .zoom-icon[_ngcontent-%COMP%]{padding:.125rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.zoom-icons[_ngcontent-%COMP%]   .zoom-icon[_ngcontent-%COMP%]:hover{opacity:.8}.zoom-icons[_ngcontent-%COMP%]   .zoom-icon.disabled[_ngcontent-%COMP%]{cursor:default;opacity:.25}"]],data:{}});function i(n){return l.Nb(2,[(n()(),l.sb(0,0,null,null,4,"div",[["class","zoom-icons"]],null,null,null,null,null)),(n()(),l.sb(1,0,null,null,1,"i",[["class","material-icons zoom-icon"]],[[2,"disabled",null]],[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.zoomIn()&&l),l}),null,null)),(n()(),l.Lb(-1,null,[" zoom_in "])),(n()(),l.sb(3,0,null,null,1,"i",[["class","material-icons zoom-icon"]],[[2,"disabled",null]],[[null,"click"]],(function(n,t,e){var l=!0;return"click"===t&&(l=!1!==n.component.zoomOut()&&l),l}),null,null)),(n()(),l.Lb(-1,null,[" zoom_out "]))],null,(function(n,t){var e=t.component;n(t,1,0,e.zoomLevel<=e.minZoomLevel),n(t,3,0,e.zoomLevel>=e.maxZoomLevel)}))}}}]);