(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{J0zk:function(e,t,c){"use strict";var a=c("qfsr");c.d(t,"a",(function(){return a.a})),c("dNPo"),c("NSPv");var r=c("qDRf");c.d(t,"b",(function(){return r.a})),c.d(t,"c",(function(){return r.c})),c.d(t,"d",(function(){return r.e})),c("S9X5")},Ql0z:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var a=c("mrSG"),r=c("yGQT"),u=c("YMmn"),n=c("YDRF"),o=Object(r.w)(n.a,Object(r.z)(u.a.setImageSourcesListVisible,(function(e,t){return a.__assign({},e,{imageSourcesListVisible:t.payload})})),Object(r.z)(u.a.setImageSourcesList,(function(e,t){return a.__assign({},e,{imageSourcesList:t.payload||[]})})),Object(r.z)(u.a.createImageSourceSuccess,(function(e,t){return e})),Object(r.z)(u.a.createImageSourceFailure,(function(e,t){return e})),Object(r.z)(u.a.setSelectedImageSourceId,(function(e,t){return a.__assign({},e,{selectedImageSourceId:t.payload})})),Object(r.z)(u.a.addImagesBySourceId,(function(e,t){return a.__assign({},e,{imagesBySourceId:a.__assign({},e,t.payload)})})),Object(r.z)(u.a.setImageSourceViewTab,(function(e,t){return a.__assign({},e,{imageSourceViewTab:t.payload})})),Object(r.z)(u.a.generateImageSourceToken,(function(e,t){var c;return a.__assign({},e,{isGeneratingTokenByImageSource:a.__assign({},e.isGeneratingTokenByImageSource,(c={},c[t.payload]=!0,c))})})),Object(r.z)(u.a.generateImageSourceTokenSuccess,(function(e,t){var c;return a.__assign({},e,{isGeneratingTokenByImageSource:a.__assign({},e.isGeneratingTokenByImageSource,(c={},c[t.payload]=!1,c))})})),Object(r.z)(u.a.generateImageSourceTokenFailure,(function(e,t){var c;return a.__assign({},e,{isGeneratingTokenByImageSource:a.__assign({},e.isGeneratingTokenByImageSource,(c={},c[t.payload]=!1,c))})})),Object(r.z)(u.a.loadImageSourceTokensSuccess,(function(e,t){var c;return a.__assign({},e,{imageSourceTokensByImageSource:a.__assign({},e.imageSourceTokensByImageSource,(c={},c[t.imageSourceId]=t.imageSourceTokens,c))})})));function i(e,t){return o(e,t)}},T2NM:function(e,t,c){"use strict";c.d(t,"a",(function(){return d}));var a=c("mrSG"),r=c("7bNT"),u=c("yGQT"),n=c("F/XL"),o=c("0/uQ"),i=c("/PH2"),s=c("15JJ"),S=c("67Y/"),O=c("9Z1F"),g=c("YZbJ"),b=c("nAcS"),I=c("YMmn"),d=function(){return function(e,t,c,d,j){var E=this;this.store$=e,this.actions$=t,this.firestore=c,this.imageSourcesService=d,this.router=j,this.getImageSources$=Object(r.h)((function(){return E.actions$.pipe(Object(r.j)(g.a.setUser,I.a.setImageSourcesListVisible),Object(i.a)(E.store$.pipe(Object(u.B)(g.d)),E.store$.pipe(Object(u.B)(b.d))),Object(s.a)((function(e){var t=a.__read(e,3),c=t[1];return t[2]&&c?E.firestore.getImageSources$(c).pipe(Object(S.a)((function(e){return I.a.setImageSourcesList({payload:e})}))):Object(n.a)(I.a.setImageSourcesList({payload:[]}))})))})),this.createImageSource$=Object(r.h)((function(){return E.actions$.pipe(Object(r.j)(I.a.createImageSource),Object(i.a)(E.store$.pipe(Object(u.B)(g.d))),Object(s.a)((function(e){var t=a.__read(e,2)[1];return t?E.firestore.createImageSource(t).pipe(Object(S.a)((function(e){return I.a.createImageSourceSuccess({payload:"imageSource"})})),Object(O.a)((function(e){return Object(n.a)(I.a.createImageSourceFailure({payload:e}))}))):Object(n.a)(I.a.createImageSourceFailure({payload:"no user"}))})))})),this.loadImagesBySourceId$=Object(r.h)((function(){return E.actions$.pipe(Object(r.j)(I.a.loadImagesBySourceId),Object(i.a)(E.store$.pipe(Object(u.B)(g.d))),Object(s.a)((function(e){var t=a.__read(e,2),c=t[0].payload;return c&&t[1]?E.firestore.getFilesForSource$(c).pipe(Object(S.a)((function(e){var t;return I.a.addImagesBySourceId({payload:(t={},t[c]=e,t)})}))):Object(n.a)(I.a.addImagesBySourceId({payload:{}}))})))})),this.uploadImageSourceFile$=Object(r.h)((function(){return E.actions$.pipe(Object(r.j)(I.a.uploadImageSourceFile),Object(i.a)(E.store$.pipe(Object(u.B)(g.d))),Object(s.a)((function(e){var t=a.__read(e,2),c=t[0],r=t[1],u=c.selectedImageSourceId,i=c.file;return u&&r?Object(o.a)(E.imageSourcesService.uploadImageSourceFile(i,r,u)).pipe(Object(S.a)((function(e){return I.a.uploadImageSourceFileSuccess({selectedImageSourceId:u})}))):Object(n.a)(I.a.uploadImageSourceFileFailure({payload:"no user or source"}))})))})),this.deleteUpload$=Object(r.h)((function(){return E.actions$.pipe(Object(r.j)(I.a.deleteUpload),Object(s.a)((function(e){var t=e.payload;return t?Object(o.a)(E.imageSourcesService.deleteFile(t)).pipe(Object(S.a)((function(e){return I.a.deleteUploadSuccess({payload:t})}))):Object(n.a)(I.a.deleteUploadFailure({payload:"no uploadId"}))})))})),this.navigateToImageSourceView$=Object(r.h)((function(){return E.actions$.pipe(Object(r.j)(I.a.navigateToImageSourceView),Object(i.a)(E.store$.pipe(Object(u.B)(b.b))),Object(S.a)((function(e){var t=a.__read(e,2),c=t[1];return E.router.navigate(a.__spread([t[0].payload],c?[c]:[]))})))}),{dispatch:!1}),this.updateImageSource$=Object(r.h)((function(){return E.actions$.pipe(Object(r.j)(I.a.updateImageSource),Object(s.a)((function(e){var t=e.imageSourceId,c=e.patch;return Object(o.a)(E.imageSourcesService.updateImageSource(t,c)).pipe(Object(S.a)((function(e){return I.a.updateImageSourceSuccess({imageSourceId:t,patch:c})})))})))})),this.generateImageSourceToken$=Object(r.h)((function(){return E.actions$.pipe(Object(r.j)(I.a.generateImageSourceToken),Object(s.a)((function(e){var t=e.payload;return Object(o.a)(E.imageSourcesService.generateImageSourceToken(t)).pipe(Object(S.a)((function(){return I.a.generateImageSourceTokenSuccess({payload:t})})),Object(O.a)((function(){return Object(n.a)(I.a.generateImageSourceTokenFailure({payload:t}))})))})))})),this.loadImageSourceTokens$=Object(r.h)((function(){return E.actions$.pipe(Object(r.j)(I.a.loadImageSourceTokens),Object(s.a)((function(e){var t=e.imageSourceId;return Object(o.a)(E.imageSourcesService.loadImageSourceTokens(t)).pipe(Object(S.a)((function(e){return I.a.loadImageSourceTokensSuccess({imageSourceId:t,imageSourceTokens:e})})))})))}))}}()},YDRF:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var a={imageSourcesListVisible:!1,imageSourcesList:[],selectedImageSourceId:void 0,imagesBySourceId:{},imageSourceViewTab:void 0,isGeneratingTokenByImageSource:{},imageSourceTokensByImageSource:{}}},YMmn:function(e,t,c){"use strict";c.d(t,"a",(function(){return r}));var a=c("yGQT"),r=function(){function e(){}return e.CATEGORY="[IMAGE_SOURCES]",e.setImageSourcesListVisible=Object(a.u)(e.CATEGORY+" SET_IMAGE_SOURCES_LIST_VISIBLE",Object(a.A)()),e.setImageSourcesList=Object(a.u)(e.CATEGORY+" SET_IMAGE_SOURCES_LIST",Object(a.A)()),e.createImageSource=Object(a.u)(e.CATEGORY+" CREATE_IMAGE_SOURCE"),e.createImageSourceSuccess=Object(a.u)(e.CATEGORY+" CREATE_IMAGE_SOURCE_SUCCESS",Object(a.A)()),e.createImageSourceFailure=Object(a.u)(e.CATEGORY+" CREATE_IMAGE_SOURCE_FAILURE",Object(a.A)()),e.setSelectedImageSourceId=Object(a.u)(e.CATEGORY+" SET_SELECTED_IMAGE_SOURCE_ID",Object(a.A)()),e.loadImagesBySourceId=Object(a.u)(e.CATEGORY+" LOAD_IMAGES_BY_SOURCE_ID",Object(a.A)()),e.addImagesBySourceId=Object(a.u)(e.CATEGORY+" ADD_IMAGES_BY_SOURCE_ID",Object(a.A)()),e.uploadImageSourceFile=Object(a.u)(e.CATEGORY+" UPLOAD_IMAGE_SOURCE_FILE",Object(a.A)()),e.uploadImageSourceFileSuccess=Object(a.u)(e.CATEGORY+" UPLOAD_IMAGE_SOURCE_FILE_SUCCESS",Object(a.A)()),e.uploadImageSourceFileFailure=Object(a.u)(e.CATEGORY+" UPLOAD_IMAGE_SOURCE_FILE_FAILURE",Object(a.A)()),e.deleteUpload=Object(a.u)(e.CATEGORY+" DELETE_UPLOAD",Object(a.A)()),e.deleteUploadSuccess=Object(a.u)(e.CATEGORY+" DELETE_UPLOAD_SUCCESS",Object(a.A)()),e.deleteUploadFailure=Object(a.u)(e.CATEGORY+" DELETE_UPLOAD_FAILURE",Object(a.A)()),e.setImageSourceViewTab=Object(a.u)(e.CATEGORY+" SET_IMAGE_SOURCE_VIEW_TAB",Object(a.A)()),e.navigateToImageSourceView=Object(a.u)(e.CATEGORY+" NAVIGATE_TO_IMAGE_SOURCE_VIEW",Object(a.A)()),e.updateImageSource=Object(a.u)(e.CATEGORY+" UPDATE_IMAGE_SOURCE",Object(a.A)()),e.updateImageSourceSuccess=Object(a.u)(e.CATEGORY+" UPDATE_IMAGE_SOURCE_SUCCESS",Object(a.A)()),e.updateImageSourceFailure=Object(a.u)(e.CATEGORY+" UPDATE_IMAGE_SOURCE_FAILURE",Object(a.A)()),e.generateImageSourceToken=Object(a.u)(e.CATEGORY+" GENERATE_IMAGE_SOURCE_TOKEN",Object(a.A)()),e.generateImageSourceTokenSuccess=Object(a.u)(e.CATEGORY+" GENERATE_IMAGE_SOURCE_TOKEN_SUCCESS",Object(a.A)()),e.generateImageSourceTokenFailure=Object(a.u)(e.CATEGORY+" GENERATE_IMAGE_SOURCE_TOKEN_FAILURE",Object(a.A)()),e.loadImageSourceTokens=Object(a.u)(e.CATEGORY+" LOAD_IMAGE_SOURCE_TOKENS",Object(a.A)()),e.loadImageSourceTokensSuccess=Object(a.u)(e.CATEGORY+" LOAD_IMAGE_SOURCE_TOKENS_SUCCESS",Object(a.A)()),e.loadImageSourceTokensFailure=Object(a.u)(e.CATEGORY+" LOAD_IMAGE_SOURCE_TOKENS_FAILURE",Object(a.A)()),e}()},nAcS:function(e,t,c){"use strict";c.d(t,"d",(function(){return n})),c.d(t,"c",(function(){return o})),c.d(t,"h",(function(){return s})),c.d(t,"g",(function(){return S})),c.d(t,"e",(function(){return O})),c.d(t,"b",(function(){return g})),c.d(t,"f",(function(){return I})),c.d(t,"a",(function(){return d}));var a=c("yGQT"),r=c("LvDl"),u=Object(a.v)("imageSources"),n=Object(a.y)(u,(function(e){return e.imageSourcesListVisible})),o=Object(a.y)(u,(function(e){return e.imageSourcesList})),i=Object(a.y)(o,(function(e){return Object(r.keyBy)(e,"id")})),s=Object(a.y)(u,(function(e){return e.selectedImageSourceId})),S=Object(a.y)(i,s,(function(e,t){return e[t]})),O=Object(a.y)(u,(function(e){return e.imagesBySourceId})),g=Object(a.y)(u,(function(e){return e.imageSourceViewTab})),b=Object(a.y)(u,(function(e){return e.isGeneratingTokenByImageSource})),I=Object(a.y)(s,b,(function(e,t){return t[e]})),d=Object(a.y)(u,(function(e){return e.imageSourceTokensByImageSource}))},ssbT:function(e,t,c){"use strict";var a=c("YMmn");c.d(t,"a",(function(){return a.a})),c("T2NM"),c("Ql0z");var r=c("nAcS");c.d(t,"b",(function(){return r.a})),c.d(t,"c",(function(){return r.c})),c.d(t,"d",(function(){return r.e})),c.d(t,"e",(function(){return r.f})),c.d(t,"f",(function(){return r.g})),c.d(t,"g",(function(){return r.h})),c("YDRF")}}]);