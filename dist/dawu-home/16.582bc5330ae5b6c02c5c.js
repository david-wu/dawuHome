(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"0pbZ":function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var o={imageSourcesListVisible:!1,imageSourcesList:[],selectedImageSourceId:void 0}},"8lX2":function(e,n,t){"use strict";t.d(n,"b",(function(){return c})),t.d(n,"a",(function(){return i})),t.d(n,"c",(function(){return a}));var o=t("yGQT"),r=Object(o.v)("imageSources"),c=Object(o.y)(r,(function(e){return e.imageSourcesListVisible})),i=Object(o.y)(r,(function(e){return e.imageSourcesList})),a=Object(o.y)(r,(function(e){return e.selectedImageSourceId}))},SEYJ:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var o=t("mrSG"),r=t("yGQT"),c=t("e/Xe"),i=t("0pbZ"),a=Object(r.w)(i.a,Object(r.z)(c.a.setImageSourcesListVisible,(function(e,n){return o.__assign({},e,{imageSourcesListVisible:n.payload})})),Object(r.z)(c.a.setImageSourcesList,(function(e,n){return o.__assign({},e,{imageSourcesList:n.payload||[]})})),Object(r.z)(c.a.createImageSourceSuccess,(function(e,n){return e})),Object(r.z)(c.a.createImageSourceFailure,(function(e,n){return e})),Object(r.z)(c.a.setSelectedImageSourceId,(function(e,n){return o.__assign({},e,{selectedImageSourceId:n.payload})})));function l(e,n){return a(e,n)}},"e/Xe":function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var o=t("yGQT"),r=function(){function e(){}return e.CATEGORY="[IMAGE_SOURCES]",e.setImageSourcesListVisible=Object(o.u)(e.CATEGORY+" SET_IMAGE_SOURCES_LIST_VISIBLE",Object(o.A)()),e.setImageSourcesList=Object(o.u)(e.CATEGORY+" SET_IMAGE_SOURCES_LIST",Object(o.A)()),e.createImageSource=Object(o.u)(e.CATEGORY+" CREATE_IMAGE_SOURCE"),e.createImageSourceSuccess=Object(o.u)(e.CATEGORY+" CREATE_IMAGE_SOURCE_SUCCESS",Object(o.A)()),e.createImageSourceFailure=Object(o.u)(e.CATEGORY+" CREATE_IMAGE_SOURCE_FAILURE",Object(o.A)()),e.setSelectedImageSourceId=Object(o.u)(e.CATEGORY+" SET_SELECTED_IMAGE_SOURCE_ID",Object(o.A)()),e}()},hCex:function(e,n,t){"use strict";t.r(n);var o=t("CcnG"),r=function(){return function(){}}(),c=t("Vxrp"),i=t("pMnS"),a=t("6+7j"),l=t("sjqh"),s=t("nPNc"),u=t("s/lM"),d=t("+J3Q"),g=t("mrSG"),f=t("LvDl"),b=t("5tJd"),p=function(){function e(){this.filterStr="",this.selectedImageSourceIdsChange=new o.n,this.fileGroup=new b.b,this.rootFileId="ROOT";var e=this.fileGroup.createFile({label:"World"});this.fileGroup.setRootFile(e)}return e.prototype.ngOnChanges=function(e){if(e.imageSources){var n=this.fileGroup.filesById[this.fileGroup.rootFileId],t=Object(f.map)(this.imageSources,(function(e){return Object.assign(new b.a,{id:e.id,label:e.label||e.id})}));n.childIds=Object(f.map)(t,"id"),this.fileGroup.filesById=Object(f.keyBy)(g.__spread([n],t),"id")}},e.prototype.onSelectedFileIdsChange=function(e){this.selectedImageSourceIdsChange.emit(e)},e}(),h=o.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{height:100%;width:100%}[_nghost-%COMP%]   dwu-file-explorer[_ngcontent-%COMP%]{display:flex;height:100%;width:100%}"]],data:{}});function O(e){return o.Nb(0,[(e()(),o.sb(0,0,null,null,2,"dwu-file-explorer",[],null,[[null,"filesByIdChange"],[null,"closedFileIdsChange"],[null,"selectedFileIdsChange"]],(function(e,n,t){var o=!0,r=e.component;return"filesByIdChange"===n&&(o=!1!==(r.fileGroup.filesById=t)&&o),"closedFileIdsChange"===n&&(o=!1!==r.fileGroup.setClosedFileIds(t)&&o),"selectedFileIdsChange"===n&&(o=!1!==r.onSelectedFileIdsChange(t)&&o),o}),s.b,s.a)),o.Ib(512,null,u.c,u.c,[[2,u.d]]),o.rb(2,4898816,null,0,d.a,[u.c,o.k],{rootFileId:[0,"rootFileId"],fuzzFilterString:[1,"fuzzFilterString"],filesById:[2,"filesById"],closedFileIds:[3,"closedFileIds"],selectedFileIds:[4,"selectedFileIds"],perfMode:[5,"perfMode"]},{filesByIdChange:"filesByIdChange",closedFileIdsChange:"closedFileIdsChange",selectedFileIdsChange:"selectedFileIdsChange"})],(function(e,n){var t=n.component;e(n,2,0,t.fileGroup.rootFileId,t.filterStr,t.fileGroup.filesById,t.fileGroup.closedFileIds,t.selectedImageSourceIds,!0)}),null)}var C=t("Ip0R"),_=t("ZYCi"),m=t("yGQT"),M=t("67Y/"),S=t("tmbU"),I=function(){function e(e,n,t){this.store=e,this.router=n,this.activatedRoute=t,this.filterStr="",this.leftSideExpanded=!1,this.imageSourcesList$=this.store.pipe(Object(m.B)(S.b)),this.selectedImageSourceId$=this.store.pipe(Object(m.B)(S.c)),this.selectedImageSourceIds$=this.selectedImageSourceId$.pipe(Object(M.a)((function(e){return e?new Set([e]):new Set})))}return e.prototype.ngOnInit=function(){this.store.dispatch(S.a.setImageSourcesListVisible({payload:!0}))},e.prototype.ngOnDestroy=function(){this.store.dispatch(S.a.setImageSourcesListVisible({payload:!1}))},e.prototype.onCreateSource=function(){this.store.dispatch(S.a.createImageSource())},e.prototype.onSelectedImageSourceIdsChange=function(e){var n=Array.from(e||[])[0];this.router.navigate([n],{relativeTo:this.activatedRoute})},e}(),P=o.qb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;height:100%;width:100%}@media screen and (max-width:750px){[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]{flex-direction:column}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{box-shadow:2px 2px 4px 0 #9d9b99;flex:0 0 auto;height:13.25rem;width:100%;max-width:none;transition:height 50ms}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side.expanded[_ngcontent-%COMP%]{height:75%}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]{background-color:#3f4038;color:#fcfcf9;position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:3.5rem;height:1rem;border:1px solid #8a9a5b;border-radius:5px 5px 0 0;text-align:center;display:flex;justify-content:center;cursor:pointer}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#4b5320;color:#fcfcf9}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander.active[_ngcontent-%COMP%]:not([disabled]){background-color:#708238;color:#fcfcf9}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.3}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]   .expander-icon[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]   .expander-icon.flipped[_ngcontent-%COMP%]{transform:rotate(180deg)}}.narrow-mode[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]{flex-direction:column}.narrow-mode[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{box-shadow:2px 2px 4px 0 #9d9b99;flex:0 0 auto;height:13.25rem;width:100%;max-width:none;transition:height 50ms}.narrow-mode[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side.expanded[_ngcontent-%COMP%]{height:75%}.narrow-mode[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]{background-color:#3f4038;color:#fcfcf9;position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:3.5rem;height:1rem;border:1px solid #8a9a5b;border-radius:5px 5px 0 0;text-align:center;display:flex;justify-content:center;cursor:pointer}.narrow-mode[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#4b5320;color:#fcfcf9}.narrow-mode[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander.active[_ngcontent-%COMP%]:not([disabled]){background-color:#708238;color:#fcfcf9}.narrow-mode[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.3}.narrow-mode[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]   .expander-icon[_ngcontent-%COMP%]{font-size:16px}.narrow-mode[_nghost-%COMP%]   div.page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]   .expander-icon.flipped[_ngcontent-%COMP%]{transform:rotate(180deg)}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]{position:relative;flex:1 1 0;overflow:hidden;max-width:27.5%;min-width:20rem}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   .left-side[_ngcontent-%COMP%]   .expander[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{flex:1 1 0;overflow:auto;position:relative}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]{background-color:#ddd9cf;display:flex;flex-direction:column}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .create-source-button[_ngcontent-%COMP%]{flex:0 0 auto;background-color:#eae6da;min-width:2rem;padding:.25rem .5rem;font-size:1rem;cursor:pointer;text-align:center;outline:0;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .create-source-button[_ngcontent-%COMP%]:hover:not([disabled]){background-color:#bac39f}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .create-source-button.active[_ngcontent-%COMP%]:not([disabled]){background-color:#708238;color:#fcfcf9}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   .create-source-button[disabled][_ngcontent-%COMP%]{pointer-events:none;opacity:.3}[_nghost-%COMP%]   .left-side[_ngcontent-%COMP%]   dwu-image-sources-explorer[_ngcontent-%COMP%]{flex:1 1 0}"]],data:{}});function x(e){return o.Nb(0,[(e()(),o.sb(0,0,null,null,12,"div",[["class","page-container"]],null,null,null,null,null)),(e()(),o.sb(1,0,null,null,8,"div",[["class","left-side"]],[[2,"expanded",null]],null,null,null,null)),(e()(),o.sb(2,0,null,null,1,"div",[["class","create-source-button"]],null,[[null,"click"]],(function(e,n,t){var o=!0;return"click"===n&&(o=!1!==e.component.onCreateSource()&&o),o}),null,null)),(e()(),o.Lb(-1,null,[" + Create Source "])),(e()(),o.sb(4,0,null,null,1,"dwu-search-input",[],null,[[null,"searchTextChange"]],(function(e,n,t){var o=!0;return"searchTextChange"===n&&(o=!1!==(e.component.filterStr=t)&&o),o}),a.b,a.a)),o.rb(5,49152,null,0,l.a,[],{searchText:[0,"searchText"],placeholder:[1,"placeholder"]},{searchTextChange:"searchTextChange"}),(e()(),o.sb(6,0,null,null,3,"dwu-image-sources-explorer",[],null,[[null,"selectedImageSourceIdsChange"]],(function(e,n,t){var o=!0;return"selectedImageSourceIdsChange"===n&&(o=!1!==e.component.onSelectedImageSourceIdsChange(t)&&o),o}),O,h)),o.rb(7,573440,null,0,p,[],{imageSources:[0,"imageSources"],filterStr:[1,"filterStr"],selectedImageSourceIds:[2,"selectedImageSourceIds"]},{selectedImageSourceIdsChange:"selectedImageSourceIdsChange"}),o.Fb(131072,C.b,[o.h]),o.Fb(131072,C.b,[o.h]),(e()(),o.sb(10,0,null,null,2,"div",[["class","right-side"]],null,null,null,null,null)),(e()(),o.sb(11,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),o.rb(12,212992,null,0,_.q,[_.b,o.O,o.j,[8,null],o.h],null,null)],(function(e,n){var t=n.component;e(n,5,0,t.filterStr,"search.."),e(n,7,0,o.Mb(n,7,0,o.Db(n,8).transform(t.imageSourcesList$)),t.filterStr,o.Mb(n,7,2,o.Db(n,9).transform(t.selectedImageSourceIds$))),e(n,12,0)}),(function(e,n){e(n,1,0,n.component.leftSideExpanded)}))}function v(e){return o.Nb(0,[(e()(),o.sb(0,0,null,null,1,"dwu-image-sources",[],null,null,null,x,P)),o.rb(1,245760,null,0,I,[m.n,_.l,_.a],null,null)],(function(e,n){e(n,1,0)}),null)}var j=o.ob("dwu-image-sources",I,v,{},{},[]),y=t("PTyj"),B=t("gIcY"),w=t("0gVX"),E=t("trGy"),F=t("xpxz"),G=t("lD1j"),T=t("7bNT"),R=t("ntSj"),A=t("O0RR"),L=t("FE7n"),k=t("Rkte"),$=t("mRcA"),q=t("R7F0"),z=t("a6Df"),Y=t("Fzqc"),U=t("dWZg"),N=t("qAlS"),V=t("FdjG"),X=function(){return function(){}}(),D=function(){return t.e(20).then(t.bind(null,"EuRh")).then((function(e){return e.ImageSourceIntroModuleNgFactory}))},J=function(){return t.e(23).then(t.bind(null,"ac9q")).then((function(e){return e.ImageSourceViewModuleNgFactory}))},Q=function(){return function(){}}(),Z=t("3A+F"),W=t("jG/M"),H=t("SEYJ"),K=t("W61y");t.d(n,"ImageSourcesModuleNgFactory",(function(){return ee}));var ee=o.pb(r,[],(function(e){return o.Ab([o.Bb(512,o.j,o.ab,[[8,[c.a,i.a,j,y.b]],[3,o.j],o.w]),o.Bb(4608,C.o,C.n,[o.t,[2,C.A]]),o.Bb(4608,B.r,B.r,[]),o.Bb(135680,w.a,w.a,[o.j,o.g,o.q]),o.Bb(4608,E.a,E.a,[]),o.Bb(4608,F.a,F.a,[]),o.Bb(4608,G.a,G.a,[m.n,T.a,F.a]),o.Bb(1073742336,C.c,C.c,[]),o.Bb(1073742336,B.q,B.q,[]),o.Bb(1073742336,B.h,B.h,[]),o.Bb(1073742336,R.a,R.a,[]),o.Bb(1073742336,A.a,A.a,[]),o.Bb(1073742336,L.a,L.a,[]),o.Bb(1073742336,k.a,k.a,[]),o.Bb(1073742336,$.a,$.a,[]),o.Bb(1073742336,q.a,q.a,[]),o.Bb(1073742336,z.a,z.a,[]),o.Bb(1073742336,u.b,u.b,[]),o.Bb(1073742336,Y.a,Y.a,[]),o.Bb(1073742336,U.b,U.b,[]),o.Bb(1073742336,N.h,N.h,[]),o.Bb(1073742336,V.a,V.a,[]),o.Bb(1073742336,X,X,[]),o.Bb(1073742336,_.p,_.p,[[2,_.u],[2,_.l]]),o.Bb(1073742336,Q,Q,[]),o.Bb(1073742336,Z.a,Z.a,[]),o.Bb(1073742336,W.a,W.a,[]),o.Bb(1024,m.O,(function(){return[{}]}),[]),o.Bb(1024,m.j,(function(){return[{key:"imageSources",reducerFactory:m.s,metaReducers:[],initialState:void 0}]}),[]),o.Bb(1024,m.P,m.W,[o.q,m.O,m.j]),o.Bb(1024,m.N,(function(){return[H.a]}),[]),o.Bb(1024,m.Q,(function(e){return[e]}),[m.N]),o.Bb(1024,m.b,(function(e,n,t){return[m.X(e,n,t)]}),[o.q,m.N,m.Q]),o.Bb(1024,m.U,(function(e){return[m.H(e)]}),[m.T]),o.Bb(1073873408,m.o,m.o,[m.P,m.b,m.g,m.p,[2,m.U]]),o.Bb(1024,T.p,(function(){return[[G.a]]}),[]),o.Bb(1024,T.g,(function(){return[[]]}),[]),o.Bb(1024,T.q,(function(e,n,t){return[T.k(e,n,t)]}),[o.q,T.p,T.g]),o.Bb(1073742336,T.d,T.d,[T.e,T.q,[2,m.p],[2,m.o]]),o.Bb(1073742336,r,r,[]),o.Bb(1024,_.j,(function(){return[[{path:"",component:I,children:[{path:"intro",loadChildren:D},{path:":imageSourceId",loadChildren:J},{path:"",pathMatch:"full",redirectTo:"intro"}]}],[{path:"auth",component:K.a},{path:"auth-success",component:K.a}]]}),[])])}))},lD1j:function(e,n,t){"use strict";t.d(n,"a",(function(){return b}));var o=t("mrSG"),r=t("7bNT"),c=t("yGQT"),i=t("F/XL"),a=t("/PH2"),l=t("15JJ"),s=t("67Y/"),u=t("9Z1F"),d=t("YZbJ"),g=t("8lX2"),f=t("e/Xe"),b=function(){return function(e,n,t){var b=this;this.store$=e,this.actions$=n,this.firestore=t,this.getImageSources$=Object(r.h)((function(){return b.actions$.pipe(Object(r.j)(d.a.setUser,f.a.setImageSourcesListVisible),Object(a.a)(b.store$.pipe(Object(c.B)(d.d)),b.store$.pipe(Object(c.B)(g.b))),Object(l.a)((function(e){var n=o.__read(e,3),t=n[1];return n[2]&&t?b.firestore.getImageSources$(t).pipe(Object(s.a)((function(e){return f.a.setImageSourcesList({payload:e})}))):Object(i.a)(f.a.setImageSourcesList({payload:[]}))})))})),this.createImageSource$=Object(r.h)((function(){return b.actions$.pipe(Object(r.j)(f.a.createImageSource),Object(a.a)(b.store$.pipe(Object(c.B)(d.d))),Object(l.a)((function(e){var n=o.__read(e,2)[1];return n?b.firestore.createImageSource(n).pipe(Object(s.a)((function(e){return f.a.createImageSourceSuccess({payload:"imageSource"})})),Object(u.a)((function(e){return Object(i.a)(f.a.createImageSourceFailure({payload:e}))}))):Object(i.a)(f.a.createImageSourceFailure({payload:"no user"}))})))}))}}()},tmbU:function(e,n,t){"use strict";var o=t("e/Xe");t.d(n,"a",(function(){return o.a})),t("lD1j"),t("SEYJ");var r=t("8lX2");t.d(n,"b",(function(){return r.a})),t.d(n,"c",(function(){return r.c})),t("0pbZ")}}]);