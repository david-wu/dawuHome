<div class="chart-container">
    <div class="chart-header">
        <div class="radio-button-container">
            <div class="radio-buttons">
                <div class="radio-button"
                    [class.active]="!isViewingNormalized"
                    (click)="onChangeNormalized(false)"
                >Cases</div>
                <div class="radio-button"
                    [class.active]="isViewingNormalized"
                    (click)="onChangeNormalized(true)"
                >Per 1M</div>
            </div>
            <div class="chart radio-buttons">
                <div class="radio-button"
                    [class.active]="!isViewingLineChart"
                    (click)="onChangeViewingLineChart(false)"
                >
                    <span class="material-icons">
                        insert_chart
                    </span>
                </div>
                <div class="radio-button"
                    [class.active]="isViewingLineChart"
                    (click)="onChangeViewingLineChart(true)"
                >
                    <span class="material-icons">
                    show_chart
                    </span>
                </div>
            </div>
        </div>
        <dwu-stat-viewer
            [columnData]="coronaData[hoverIndex]"
            [keys]="isViewingNormalized ? perMilViewKeys : coronaViewKeys"
            [disabledKeys]="disabledBarKeys"
            [labelsByKey]="Labels.corona"
            [rowCount]="3"
        ></dwu-stat-viewer>
    </div>
    <dwu-line-chart
        *ngIf="isViewingLineChart"
        class="overview chart"
        [tableData]="coronaData"
        [keys]="isViewingNormalized ? perMilKeys : coronaKeys"
        [colorsByKey]="coronaColorsByKey"
        [disabledKeys]="disabledBarKeys"
        [hoverIndex]="hoverIndex"
        (hoverIndexChange)="hoverIndex = $event"
    ></dwu-line-chart>
    <dwu-bar-chart
        *ngIf="!isViewingLineChart"
        class="overview chart"
        [tableData]="coronaData"
        [keys]="isViewingNormalized ? perMilKeys : coronaKeys"
        [colorsByKey]="coronaColorsByKey"
        [disabledKeys]="disabledBarKeys"
        [hoverIndex]="hoverIndex"
        (hoverIndexChange)="hoverIndex = $event"
    ></dwu-bar-chart>
    <dwu-chart-legend
        [keys]="isViewingNormalized ? perMilKeys : coronaKeys"
        [colorsByKey]="coronaColorsByKey"
        [disabledKeys]="disabledBarKeys"
        [labelsByKey]="Labels.corona"
        (disabledKeysChange)="disabledBarKeysChange.emit($event)"
    ></dwu-chart-legend>

    <dwu-stat-viewer
        [columnData]="coronaData[hoverIndex]"
        [keys]="normalizedViewKeys"
        [disabledKeys]="disabledBarKeys"
        [labelsByKey]="Labels.corona"
        [rowCount]="2"
    ></dwu-stat-viewer>
    <dwu-line-chart
        class="overview chart"
        [tableData]="coronaData"
        [keys]="normalKeys"
        [colorsByKey]="coronaColorsByKey"
        [disabledKeys]="disabledNormalKeys"
        [hoverIndex]="hoverIndex"
        (hoverIndexChange)="hoverIndex = $event"
    ></dwu-line-chart>
    <dwu-chart-legend
        [keys]="normalKeys"
        [colorsByKey]="coronaColorsByKey"
        [disabledKeys]="disabledNormalKeys"
        [labelsByKey]="Labels.corona"
        (disabledKeysChange)="disabledNormalKeysChange.emit($event)"
    ></dwu-chart-legend>
</div>
