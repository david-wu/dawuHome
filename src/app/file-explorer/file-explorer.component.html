<div *ngFor="let fileIdAndDepth of fileIdsAndDepth; index as i; trackBy: trackByFn">
    <div
        *ngIf="filesById[fileIdAndDepth[0]] as file"
        class="file-row"
        [ngClass]="(i % 2) ? 'odd' : 'even'"
        [class.selected]="selectedFileIds.has(file.id)"
        [class.hidden]="visibleFileIds && !visibleFileIds.has(file.id)"
        [style.padding-left]="getPaddingLeft(fileIdAndDepth[1])"
        (click)="selectFile(file)"
    >
        <ng-container *ngIf="file.childIds">
            <i
                class="material-icons arrow clickable"
                (click)="toggleClosedFile(file, $event)"
                [class.closed]="closedFileIds[file.id]"
            >
                keyboard_arrow_right
            </i>
            <i class="material-icons folder">
                folder
            </i>
        </ng-container>
        <div *ngIf="!file.childIds" class="space-maker">
        </div>
        <div class="file-label" *ngIf="fuzzItemsByFileId[file.id] as fuzzItem">
            <dwu-text-decorator
                [ignoreUpdates]="visibleFileIds && !visibleFileIds.has(file.id)"
                [text]="fuzzItemsByFileId[file.id].subject"
                [matchRanges]="fuzzItemsByFileId[file.id].matchRanges"
            ></dwu-text-decorator>
        </div>
        <div class="file-label" *ngIf="!fuzzItemsByFileId[file.id]">
            {{ file.label || file.id }}
        </div>
    </div>
</div>
